
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blevinscm.github.com/genai-docs/model-reference/rag-api/">
      
      
      
      
      <link rel="icon" href="../../assets/google-cloud-vertex-ai.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Rag Engine Api - Vertex Generative AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../js/chat-widget/chat-widget.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rag-engine-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vertex Generative AI" class="md-header__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vertex Generative AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rag Engine Api
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-tabs__link">
          
  
  
    
  
  Learn

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../agent-engine/Set-up-the-environment/" class="md-tabs__link">
          
  
  
    
  
  Build

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/Introduction-to-tuning/" class="md-tabs__link">
          
  
  
    
  
  Tune

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../deploy/Deploy-generative-AI-models/" class="md-tabs__link">
          
  
  
    
  
  Deploy

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-tabs__link">
          
  
  
    
  
  Manage

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/evaluation-overview/" class="md-tabs__link">
          
  
  
    
  
  Optimize

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vertex Generative AI" class="md-nav__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    Vertex Generative AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Learn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Generative AI Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supported-models_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gemini Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Imagen-on-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Imagen Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code/code-models-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../intelligent-code-commenter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intelligent Code Commenter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-models/Use-Gemma-open-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open Models (Gemma, Llama)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../partner-models/use-partner-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partner Models (Claude, AI21)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Introduction-to-prompting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Prompting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Overview-of-prompting-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompting Strategies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Design-multimodal-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Choose-an-embeddings-task-type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embeddings Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Introduction-to-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function Calling Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Ground-responses-using-RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grounding Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/Vertex-AI-Agent-Builder-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Builder Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Vertex-AI-Agent-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Vertex-AI-RAG-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Extensions-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Example-Store-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example Store Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-and-data-governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security-controls-for-Generative-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security & Safety
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deprecations/Model-versions-and-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deprecations & Lifecycle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-help_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Build
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Set-up-the-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up Environment (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-an-Agent-Development-Kit-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop ADK Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangGraph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangGraph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chat/Design-chat-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Chat Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Text-generationbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Text with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Generate-images-using-text-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Imagen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generate-images-with-Gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../video/generate-videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Video with Veo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-batch-text-embeddings-predictions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Text Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-multimodal-embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Multimodal Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Function-calling-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Use-Google-Search-suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Google Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Grounding-with-your-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Your Data)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Use-data-ingestion-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Data Ingestion)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/use-vertexai-vector-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Vector Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-a-Weaviate-database-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Weaviate)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Create-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Context Cache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Create-and-run-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Retrieve-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Example Store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/audio-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Audio Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Document-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Document Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Video-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Video Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt-gallery/samples/summarize_summarize_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Gallery Samples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tune
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tune
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Introduction-to-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Model Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/About-supervised-fine-tuning-for-Gemini-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini Models (Supervised)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/gemini-supervised-tuning-prepare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prepare Data for Gemini SFT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/tune_gemini/text_tune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini for Text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Style-customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Imagen Models (Style/Subject)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Tune-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/LoRA-and-QLoRA-recommendations-for-LLMs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LoRA & QLoRA Recommendations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Fine-tune-RAG-transformations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-tune RAG Transformations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Deploy-generative-AI-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Generative AI Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Agent (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Deployments-and-endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployments and Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/Use-models-in-Model-Garden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Models from Model Garden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Purchase-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchase Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/Migrate-to-the-Gemini-API-from-Azure-OpenAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate from Azure OpenAI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/openai/Using-OpenAI-libraries-with-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use OpenAI Libraries with Vertex AI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Manage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Deployed Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-using-direct-API-calls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (API)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-with-Agent-Development-Kit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (ADK)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Get-information-about-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Context Cache (Get/Delete)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Manage-your-RAG-knowledge-base-corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage RAG Corpus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/Model-monitoring-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Monitoring Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quotas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quotas & Limits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-deploying-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-developing-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Development
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Optimize
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Optimize
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/evaluation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Evaluation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Gen-AI-evaluation-service-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gen AI Evaluation Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Run-AutoSxS-pipeline-to-perform-pairwise-model-based-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run AutoSxS (Pairwise Evaluation)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Evaluate-Gen-AI-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Evaluate Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Optimize-promptsbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Retrieval-and-ranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Retrieval and Ranking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Vertex-AI-Model-Optimizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Model Optimizer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../provisioned-throughput/Calculate-Provisioned-Throughput-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calculate Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../count-tokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Count Tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameters-list" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters list
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameters list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corpus-management-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Corpus management parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Corpus management parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-rag-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      Create a RAG corpus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a RAG corpus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#body-request" class="md-nav__link">
    <span class="md-ellipsis">
      Body Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ragvectordbconfig" class="md-nav__link">
    <span class="md-ellipsis">
      RagVectorDbConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-a-rag-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      Update a RAG corpus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update a RAG corpus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#body-request_1" class="md-nav__link">
    <span class="md-ellipsis">
      Body Request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-rag-corpora" class="md-nav__link">
    <span class="md-ellipsis">
      List RAG corpora
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-rag-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      Get a RAG corpus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-rag-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      Delete a RAG corpus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-management-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      File management parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File management parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-a-rag-file" class="md-nav__link">
    <span class="md-ellipsis">
      Upload a RAG file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upload a RAG file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#body-request_2" class="md-nav__link">
    <span class="md-ellipsis">
      Body Request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-rag-files" class="md-nav__link">
    <span class="md-ellipsis">
      Import RAG files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-rag-file" class="md-nav__link">
    <span class="md-ellipsis">
      Get a RAG file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-rag-file" class="md-nav__link">
    <span class="md-ellipsis">
      Delete a RAG file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieval-and-prediction" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieval and prediction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retrieval and prediction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retrieval-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieval parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retrieval parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexragstore" class="md-nav__link">
    <span class="md-ellipsis">
      VertexRagStore
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prediction-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Prediction parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpus-management-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Corpus management examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Corpus management examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-rag-corpus-example" class="md-nav__link">
    <span class="md-ellipsis">
      Create a RAG corpus example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-a-rag-corpus-example" class="md-nav__link">
    <span class="md-ellipsis">
      Update a RAG corpus example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_1" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_1" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_1" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-rag-corpora-example" class="md-nav__link">
    <span class="md-ellipsis">
      List RAG corpora example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_2" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_2" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_2" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-rag-corpus-example" class="md-nav__link">
    <span class="md-ellipsis">
      Get a RAG corpus example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_3" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_3" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_3" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-rag-corpus-example" class="md-nav__link">
    <span class="md-ellipsis">
      Delete a RAG corpus example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_4" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_4" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_4" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-management-examples" class="md-nav__link">
    <span class="md-ellipsis">
      File management examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File management examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-a-rag-file-example" class="md-nav__link">
    <span class="md-ellipsis">
      Upload a RAG file example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_5" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-rag-files-example" class="md-nav__link">
    <span class="md-ellipsis">
      Import RAG files example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_6" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_5" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_5" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-rag-files-example" class="md-nav__link">
    <span class="md-ellipsis">
      List RAG files example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_7" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_6" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_6" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-rag-file-example" class="md-nav__link">
    <span class="md-ellipsis">
      Get a RAG file example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_8" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_7" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_7" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-a-rag-file-example" class="md-nav__link">
    <span class="md-ellipsis">
      Delete a RAG file example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_9" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_8" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_8" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieval-query" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieval query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_10" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_9" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_9" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generation" class="md-nav__link">
    <span class="md-ellipsis">
      Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_11" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_10" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_10" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/blevinscm/genai-docs/edit/main/docs/model-reference/rag-api.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="rag-engine-api">RAG Engine API<a class="headerlink" href="#rag-engine-api" title="Permanent link">&para;</a></h1>
<p><strong>Preview</strong></p>
<p>Some of the RAG features are Preview offerings, subject to the "Pre-GA Offerings Terms"
of the <a href="https://cloud.google.com/terms/service-terms">Google Cloud Service Specific
Terms</a>. Pre-GA products and features may have limited support, and changes to Pre-GA products
and features may not be compatible with other Pre-GA versions. For more information, see the <a href="https://cloud.google.com/products#product-launch-stages">launch stage descriptions</a>.
Further, by using the Gemini API on Vertex AI, you agree to the Generative AI Preview <a href="https://cloud.google.com/trustedtester/aitos">terms and conditions</a> (Preview
Terms).</p>
<p>The Vertex AI RAG Engine is a component of the
Vertex AI platform, which facilitates Retrieval-Augmented
Generation (RAG). RAG Engine enables Large Language Models (LLMs) to access
and incorporate data from external knowledge sources, such as documents and
databases. By using RAG, LLMs can generate more accurate and informative LLM
responses.</p>
<h2 id="parameters-list">Parameters list<a class="headerlink" href="#parameters-list" title="Permanent link">&para;</a></h2>
<p>This section lists the following:</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>See <a href="#corpus-management-params-api">Corpus management parameters</a>.</td>
<td>See <a href="#corpus-management-examples-api">Corpus management examples</a>.</td>
</tr>
<tr>
<td>See <a href="#file-management-params-api">File management parameters</a>.</td>
<td>See <a href="#file-management-examples-api">File management examples</a>.</td>
</tr>
</tbody>
</table>
<h3 id="corpus-management-parameters">Corpus management parameters<a class="headerlink" href="#corpus-management-parameters" title="Permanent link">&para;</a></h3>
<p>For information about a RAG corpus, see
<a href="https://cloud.google.com/vertex-ai/generative-ai/docs/manage-your-rag-corpus#corpus-management">Corpus management</a>.</p>
<h4 id="create-a-rag-corpus">Create a RAG corpus<a class="headerlink" href="#create-a-rag-corpus" title="Permanent link">&para;</a></h4>
<p>This table lists the parameters used to create a RAG corpus.</p>
<h5 id="body-request">Body Request<a class="headerlink" href="#body-request" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display_name</code></td>
<td>Required: <code>string</code> The display name of the RAG corpus.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Optional: <code>string</code> The description of the RAG corpus.</td>
</tr>
<tr>
<td><code>vector_db_config</code></td>
<td>Optional: Immutable: <code>RagVectorDbConfig</code> The configuration for the Vector DBs.</td>
</tr>
<tr>
<td><code>vertex_ai_search_config.serving_config</code></td>
<td>Optional: <code>string</code> The configuration for the Vertex AI Search. Format: <code>projects/{project}/locations/{location}/collections/{collection}/engines/{engine}/servingConfigs/{serving_config}</code> or <code>projects/{project}/locations/{location}/collections/{collection}/dataStores/{data_store}/servingConfigs/{serving_config}</code></td>
</tr>
</tbody>
</table>
<h5 id="ragvectordbconfig"><code>RagVectorDbConfig</code><a class="headerlink" href="#ragvectordbconfig" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rag_managed_db</code></td>
<td><code>oneof</code> <code>vector_db</code>: <code>RagVectorDbConfig.RagManagedDb</code> If no vector database is specified, <code>rag_managed_db</code> is the default vector database.</td>
</tr>
<tr>
<td><code>weaviate</code></td>
<td><code>oneof</code> <code>vector_db</code>: <code>RagVectorDbConfig.Weaviate</code> Specifies your Weaviate instance.</td>
</tr>
<tr>
<td><code>weaviate.http_endpoint</code></td>
<td><code>string</code> The Weaviate instance's HTTP endpoint. This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>weaviate.collection_name</code></td>
<td><code>string</code> The Weaviate collection that the RAG corpus maps to. This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>pinecone</code></td>
<td><code>oneof</code> <code>vector_db</code>: <code>RagVectorDbConfig.Pinecone</code> Specifies your Pinecone instance.</td>
</tr>
<tr>
<td><code>pinecone.index_name</code></td>
<td><code>string</code> This is the name used to create the Pinecone index that's used with the RAG corpus. This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>vertex_feature_store</code></td>
<td><code>oneof</code> <code>vector_db</code>: <code>RagVectorDbConfig.VertexFeatureStore</code> Specifies your Vertex AI Feature Store instance.</td>
</tr>
<tr>
<td><code>vertex_feature_store.feature_view_resource_name</code></td>
<td><code>string</code> The Vertex AI Feature Store <code>FeatureView</code> that the RAG corpus maps to. Format: <code>projects/{project}/locations/{location}/featureOnlineStores/{feature_online_store}/featureViews/{feature_view}</code> This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>vertex_vector_search</code></td>
<td><code>oneof</code> <code>vector_db</code>: <code>RagVectorDbConfig.VertexVectorSearch</code> Specifies your Vertex Vector Search instance.</td>
</tr>
<tr>
<td><code>vertex_vector_search.index</code></td>
<td><code>string</code> This is the resource name of the Vector Search index that's used with the RAG corpus. Format: <code>projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}</code> This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>vertex_vector_search.index_endpoint</code></td>
<td><code>string</code> This is the resource name of the Vector Search index endpoint that's used with the RAG corpus. Format: <code>projects/{project}/locations/{location}/indexes/{index}</code> This value can't be changed after it's set. You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>api_auth.api_key_config.api_key_secret_version</code></td>
<td><code>string</code> This the full resource name of the secret that is stored in Secret Manager, which contains your Weaviate or Pinecone API key that depends on your choice of vector database. Format: <code>projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}</code> You can leave it empty in the <code>CreateRagCorpus</code> API call, and set it with a non-empty value in a follow up <code>UpdateRagCorpus</code> API call.</td>
</tr>
<tr>
<td><code>rag_embedding_model_config.vertex_prediction_endpoint.endpoint</code></td>
<td>Optional: Immutable: <code>string</code> The embedding model to use for the RAG corpus. This value can't be changed after it's set. If you leave it empty, we use <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/text-embeddings-api">text-embedding-004</a> as the embedding model.</td>
</tr>
</tbody>
</table>
<h4 id="update-a-rag-corpus">Update a RAG corpus<a class="headerlink" href="#update-a-rag-corpus" title="Permanent link">&para;</a></h4>
<p>This table lists the parameters used to update a RAG corpus.</p>
<h5 id="body-request_1">Body Request<a class="headerlink" href="#body-request_1" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display_name</code></td>
<td>Optional: <code>string</code> The display name of the RAG corpus.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Optional: <code>string</code> The description of the RAG corpus.</td>
</tr>
<tr>
<td><code>rag_vector_db.weaviate.http_endpoint</code></td>
<td><code>string</code> The Weaviate instance's HTTP endpoint. If your <code>RagCorpus</code> was created with a <code>Weaviate</code> configuration, and this field has never been set before, then you can update the Weaviate instance's HTTP endpoint.</td>
</tr>
<tr>
<td><code>rag_vector_db.weaviate.collection_name</code></td>
<td><code>string</code> The Weaviate collection that the RAG corpus maps to. If your <code>RagCorpus</code> was created with a <code>Weaviate</code> configuration, and this field has never been set before, then you can update the Weaviate instance's collection name.</td>
</tr>
<tr>
<td><code>rag_vector_db.pinecone.index_name</code></td>
<td><code>string</code> This is the name used to create the Pinecone index that's used with the RAG corpus. If your <code>RagCorpus</code> was created with a <code>Pinecone</code> configuration, and this field has never been set before, then you can update the Pinecone instance's index name.</td>
</tr>
<tr>
<td><code>rag_vector_db.vertex_feature_store.feature_view_resource_name</code></td>
<td><code>string</code> The Vertex AI Feature Store <code>FeatureView</code> that the RAG corpus maps to. Format: <code>projects/{project}/locations/{location}/featureOnlineStores/{feature_online_store}/featureViews/{feature_view}</code> If your <code>RagCorpus</code> was created with a <code>Vertex AI Feature Store</code> configuration, and this field has never been set before, then you can update it.</td>
</tr>
<tr>
<td><code>rag_vector_db.vertex_vector_search.index</code></td>
<td><code>string</code> This is the resource name of the Vector Search index that's used with the RAG corpus. Format: <code>projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}</code> If your <code>RagCorpus</code> was created with a <code>Vector Search</code> configuration, and this field has never been set before, then you can update it.</td>
</tr>
<tr>
<td><code>rag_vector_db.vertex_vector_search.index_endpoint</code></td>
<td><code>string</code> This is the resource name of the Vector Search index endpoint that's used with the RAG corpus. Format: <code>projects/{project}/locations/{location}/indexes/{index}</code> If your <code>RagCorpus</code> was created with a <code>Vector Search</code> configuration, and this field has never been set before, then you can update it.</td>
</tr>
<tr>
<td><code>rag_vector_db.api_auth.api_key_config.api_key_secret_version</code></td>
<td><code>string</code> The full resource name of the secret that is stored in Secret Manager, which contains your Weaviate or Pinecone API key depends on your choice of vector database. Format: <code>projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}</code></td>
</tr>
</tbody>
</table>
<h4 id="list-rag-corpora">List RAG corpora<a class="headerlink" href="#list-rag-corpora" title="Permanent link">&para;</a></h4>
<p>This table lists the parameters used to list RAG corpora.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>page_size</code></td>
<td>Optional: <code>int</code> The standard list page size.</td>
</tr>
<tr>
<td><code>page_token</code></td>
<td>Optional: <code>string</code> The standard list page token. Typically obtained from <code>[ListRagCorporaResponse.next_page_token][]</code> of the previous <code>[VertexRagDataService.ListRagCorpora][]</code> call.</td>
</tr>
</tbody>
</table>
<h4 id="get-a-rag-corpus">Get a RAG corpus<a class="headerlink" href="#get-a-rag-corpus" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to get a RAG corpus.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code> The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}</code></td>
</tr>
</tbody>
</table>
<h4 id="delete-a-rag-corpus">Delete a RAG corpus<a class="headerlink" href="#delete-a-rag-corpus" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to delete a RAG corpus.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code> The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}</code></td>
</tr>
</tbody>
</table>
<h3 id="file-management-parameters">File management parameters<a class="headerlink" href="#file-management-parameters" title="Permanent link">&para;</a></h3>
<p>For information about a RAG file, see
<a href="https://cloud.google.com/vertex-ai/generative-ai/docs/manage-your-rag-corpus#file-management">File management</a>.</p>
<h4 id="upload-a-rag-file">Upload a RAG file<a class="headerlink" href="#upload-a-rag-file" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to upload a RAG file.</p>
<h5 id="body-request_2">Body Request<a class="headerlink" href="#body-request_2" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>parent</code></td>
<td><code>string</code> The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}</code></td>
</tr>
<tr>
<td><code>rag_file</code></td>
<td>Required: <code>RagFile</code> The file to upload.</td>
</tr>
<tr>
<td><code>upload_rag_file_config</code></td>
<td>Required: <code>UploadRagFileConfig</code> The configuration for the <code>RagFile</code> to be uploaded into the <code>RagCorpus</code>.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>RagFile</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display_name</code></td>
<td>Required: <code>string</code> The display name of the RAG file.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Optional: <code>string</code> The description of the RAG file.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>UploadRagFileConfig</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_size</code></td>
<td><code>int32</code> Number of tokens each chunk has.</td>
</tr>
<tr>
<td><code>rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_overlap</code></td>
<td><code>int32</code> The overlap between chunks.</td>
</tr>
</tbody>
</table>
<h4 id="import-rag-files">Import RAG files<a class="headerlink" href="#import-rag-files" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to import a RAG file.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>parent</code></td>
<td>Required: <code>string</code> The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}</code></td>
</tr>
<tr>
<td><code>gcs_source</code></td>
<td><code>oneof</code> <code>import_source</code>: <code>GcsSource</code> Cloud Storage location. Supports importing individual files as well as entire Cloud Storage directories.</td>
</tr>
<tr>
<td><code>gcs_source.uris</code></td>
<td><code>list</code> of <code>string</code> Cloud Storage URI that contains the upload file.</td>
</tr>
<tr>
<td><code>google_drive_source</code></td>
<td><code>oneof</code> <code>import_source</code>: <code>GoogleDriveSource</code> Google Drive location. Supports importing individual files as well as Google Drive folders.</td>
</tr>
<tr>
<td><code>slack_source</code></td>
<td><code>oneof</code> <code>import_source</code>: <code>SlackSource</code> The slack channel where the file is uploaded.</td>
</tr>
<tr>
<td><code>jira_source</code></td>
<td><code>oneof</code> <code>import_source</code>: <code>JiraSource</code> The Jira query where the file is uploaded.</td>
</tr>
<tr>
<td><code>share_point_sources</code></td>
<td><code>oneof</code> <code>import_source</code>: <code>SharePointSources</code> The SharePoint sources where the file is uploaded.</td>
</tr>
<tr>
<td><code>rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_size</code></td>
<td><code>int32</code> Number of tokens each chunk has.</td>
</tr>
<tr>
<td><code>rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_overlap</code></td>
<td><code>int32</code> The overlap between chunks.</td>
</tr>
<tr>
<td><code>rag_file_parsing_config</code></td>
<td>Optional: <code>RagFileParsingConfig</code> Specifies the parsing configuration for <code>RagFiles</code>. If this field isn't set, RAG uses the default parser.</td>
</tr>
<tr>
<td><code>max_embedding_requests_per_min</code></td>
<td>Optional: <code>int32</code> The maximum number of queries per minute that this job is allowed to make to the embedding model specified on the corpus. This value is specific to this job and not shared across other import jobs. Consult the Quotas page on the project to set an appropriate value. If unspecified, a default value of 1,000 QPM is used.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>GoogleDriveSource</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>resource_ids.resource_id</code></td>
<td>Required: <code>string</code> The ID of the Google Drive resource.</td>
</tr>
<tr>
<td><code>resource_ids.resource_type</code></td>
<td>Required: <code>string</code> The type of the Google Drive resource.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>SlackSource</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>channels.channels</code></td>
<td>Repeated: <code>SlackSource.SlackChannels.SlackChannel</code> Slack channel information, include ID and time range to import.</td>
</tr>
<tr>
<td><code>channels.channels.channel_id</code></td>
<td>Required: <code>string</code> The Slack channel ID.</td>
</tr>
<tr>
<td><code>channels.channels.start_time</code></td>
<td>Optional: <code>google.protobuf.Timestamp</code> The starting timestamp for messages to import.</td>
</tr>
<tr>
<td><code>channels.channels.end_time</code></td>
<td>Optional: <code>google.protobuf.Timestamp</code> The ending timestamp for messages to import.</td>
</tr>
<tr>
<td><code>channels.api_key_config.api_key_secret_version</code></td>
<td>Required: <code>string</code> The full resource name of the secret that is stored in Secret Manager, which contains a Slack channel access token that has access to the slack channel IDs. See: https://api.slack.com/tutorials/tracks/getting-a-token. Format: <code>projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>JiraSource</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>jira_queries.projects</code></td>
<td>Repeated: <code>string</code> A list of Jira projects to import in their entirety.</td>
</tr>
<tr>
<td><code>jira_queries.custom_queries</code></td>
<td>Repeated: <code>string</code> A list of custom Jira queries to import. For information about JQL (Jira Query Language), see <a href="https://support.atlassian.com/jira-service-management-cloud/docs/use-advanced-search-with-jira-query-language-jql/">Jira Support</a></td>
</tr>
<tr>
<td><code>jira_queries.email</code></td>
<td>Required: <code>string</code> The Jira email address.</td>
</tr>
<tr>
<td><code>jira_queries.server_uri</code></td>
<td>Required: <code>string</code> The Jira server URI.</td>
</tr>
<tr>
<td><code>jira_queries.api_key_config.api_key_secret_version</code></td>
<td>Required: <code>string</code> The full resource name of the secret that is stored in Secret Manager, which contains Jira API key that has access to the slack channel IDs. See: https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/ Format: <code>projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>SharePointSources</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>share_point_sources.sharepoint_folder_path</code></td>
<td><code>oneof</code> in <code>folder_source</code>: <code>string</code> The path of the SharePoint folder to download from.</td>
</tr>
<tr>
<td><code>share_point_sources.sharepoint_folder_id</code></td>
<td><code>oneof</code> in <code>folder_source</code>: <code>string</code> The ID of the SharePoint folder to download from.</td>
</tr>
<tr>
<td><code>share_point_sources.drive_name</code></td>
<td><code>oneof</code> in <code>drive_source</code>: <code>string</code> The name of the drive to download from.</td>
</tr>
<tr>
<td><code>share_point_sources.drive_id</code></td>
<td><code>oneof</code> in <code>drive_source</code>: <code>string</code> The ID of the drive to download from.</td>
</tr>
<tr>
<td><code>share_point_sources.client_id</code></td>
<td><code>string</code> The Application ID for the app registered in Microsoft Azure Portal. The application must also be configured with MS Graph permissions "Files.ReadAll", "Sites.ReadAll" and BrowserSiteLists.Read.All.</td>
</tr>
<tr>
<td><code>share_point_sources.client_secret.api_key_secret_version</code></td>
<td>Required: <code>string</code> The full resource name of the secret that is stored in Secret Manager, which contains the application secret for the app registered in Azure. Format: <code>projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}</code></td>
</tr>
<tr>
<td><code>share_point_sources.tenant_id</code></td>
<td><code>string</code> Unique identifier of the Azure Active Directory Instance.</td>
</tr>
<tr>
<td><code>share_point_sources.sharepoint_site_name</code></td>
<td><code>string</code> The name of the SharePoint site to download from. This can be the site name or the site id.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>RagFileParsingConfig</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout_parser</code></td>
<td><code>oneof</code> <code>parser</code>: <code>RagFileParsingConfig.LayoutParser</code> The Layout Parser to use for <code>RagFile</code>s.</td>
</tr>
<tr>
<td><code>layout_parser.processor_name</code></td>
<td><code>string</code> The full resource name of a Document AI processor or processor version. Format: <code>projects/{project_id}/locations/{location}/processors/{processor_id}</code> <code>projects/{project_id}/locations/{location}/processors/{processor_id}/processorVersions/{processor_version_id}</code></td>
</tr>
<tr>
<td><code>layout_parser.max_parsing_requests_per_min</code></td>
<td><code>string</code> The maximum number of requests the job is allowed to make to the Document AI processor per minute. Consult https://cloud.google.com/document-ai/quotas and the Quota page for your project to set an appropriate value here. If unspecified, a default value of 120 QPM is used.</td>
</tr>
</tbody>
</table>
<h4 id="get-a-rag-file">Get a RAG file<a class="headerlink" href="#get-a-rag-file" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to get a RAG file.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code> The name of the <code>RagFile</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_file_id}</code></td>
</tr>
</tbody>
</table>
<h4 id="delete-a-rag-file">Delete a RAG file<a class="headerlink" href="#delete-a-rag-file" title="Permanent link">&para;</a></h4>
<p>This table lists parameters used to delete a RAG file.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code> The name of the <code>RagFile</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_file_id}</code></td>
</tr>
</tbody>
</table>
<h3 id="retrieval-and-prediction">Retrieval and prediction<a class="headerlink" href="#retrieval-and-prediction" title="Permanent link">&para;</a></h3>
<p>This section lists the retrieval and prediction parameters.</p>
<h4 id="retrieval-parameters">Retrieval parameters<a class="headerlink" href="#retrieval-parameters" title="Permanent link">&para;</a></h4>
<p>This table lists parameters for <code>retrieveContexts</code> API.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>parent</code></td>
<td>Required: <code>string</code> The resource name of the Location to retrieve <code>RagContexts</code>. The users must have permission to make a call in the project. Format: <code>projects/{project}/locations/{location}</code></td>
</tr>
<tr>
<td><code>vertex_rag_store</code></td>
<td><code>VertexRagStore</code> The data source for Vertex RagStore.</td>
</tr>
<tr>
<td><code>query</code></td>
<td>Required: <code>RagQuery</code> Single RAG retrieve query.</td>
</tr>
</tbody>
</table>
<h5 id="vertexragstore"><code>VertexRagStore</code><a class="headerlink" href="#vertexragstore" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th><code>VertexRagStore</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rag_resources</code></td>
<td>list: <code>RagResource</code> The representation of the RAG source. It can be used to specify the corpus only or <code>RagFile</code>s. Only support one corpus or multiple files from one corpus.</td>
</tr>
<tr>
<td><code>rag_resources.rag_corpus</code></td>
<td>Optional: <code>string</code> <code>RagCorpora</code> resource name. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus}</code></td>
</tr>
<tr>
<td><code>rag_resources.rag_file_ids</code></td>
<td>list: <code>string</code> A list of <code>RagFile</code> resources. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus}/ragFiles/{rag_file}</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>RagQuery</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td><code>string</code> The query in text format to get relevant contexts.</td>
</tr>
<tr>
<td><code>rag_retrieval_config</code></td>
<td>Optional: <code>RagRetrievalConfig</code> The retrieval configuration for the query.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>RagRetrievalConfig</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>top_k</code></td>
<td>Optional: <code>int32</code> The number of contexts to retrieve.</td>
</tr>
<tr>
<td><code>hybrid_search.alpha</code></td>
<td>Optional: <code>float</code> Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], where 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5, which balances sparse and dense vector search equally. Hybrid Search is only available for Weaviate.</td>
</tr>
<tr>
<td><code>filter.vector_distance_threshold</code></td>
<td><code>oneof vector_db_threshold</code>: <code>double</code> Only returns contexts with a vector distance smaller than the threshold.</td>
</tr>
<tr>
<td><code>filter.vector_similarity_threshold</code></td>
<td><code>oneof vector_db_threshold</code>: <code>double</code> Only returns contexts with vector similarity larger than the threshold.</td>
</tr>
<tr>
<td><code>ranking.rank_service.model_name</code></td>
<td>Optional: <code>string</code> The model name of the rank service. Example: <code>semantic-ranker-512@latest</code></td>
</tr>
<tr>
<td><code>ranking.llm_ranker.model_name</code></td>
<td>Optional: <code>string</code> The model name used for ranking. Example: <code>gemini-2.0-flash</code></td>
</tr>
</tbody>
</table>
<h4 id="prediction-parameters">Prediction parameters<a class="headerlink" href="#prediction-parameters" title="Permanent link">&para;</a></h4>
<p>This table lists prediction parameters.</p>
<table>
<thead>
<tr>
<th><code>GenerateContentRequest</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tools.retrieval.vertex_rag_store</code></td>
<td><code>VertexRagStore</code> Set to use a data source powered by Vertex AI RAG store.</td>
</tr>
</tbody>
</table>
<p>See <a href="#vertex-rag-store">VertexRagStore</a> for details.</p>
<h2 id="corpus-management-examples">Corpus management examples<a class="headerlink" href="#corpus-management-examples" title="Permanent link">&para;</a></h2>
<p>This section provides examples of how to use the API to manage your RAG corpus.</p>
<h3 id="create-a-rag-corpus-example">Create a RAG corpus example<a class="headerlink" href="#create-a-rag-corpus-example" title="Permanent link">&para;</a></h3>
<p>This code sample demonstrates how to create a RAG corpus.</p>
<h3 id="rest">REST<a class="headerlink" href="#rest" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>CORPUS_DISPLAY_NAME: The display name of the <code>RagCorpus</code>.</li>
<li>CORPUS_DESCRIPTION: The description of the <code>RagCorpus</code>.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> <span class="s2">&quot;display_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;CORPUS_DISPLAY_NAME&quot;</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;CORPUS_DESCRIPTION&quot;</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl">curl<a class="headerlink" href="#curl" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora&quot;</span>
</span></code></pre></div>
<h4 id="powershell">PowerShell<a class="headerlink" href="#powershell" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a successful status code (2xx).</p>
<p>The following example demonstrates how to create a RAG corpus by using the REST
API.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a> <span class="n">PROJECT_ID</span><span class="p">:</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">ID</span><span class="o">.</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a> <span class="n">LOCATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">region</span> <span class="n">to</span> <span class="n">process</span> <span class="n">the</span> <span class="n">request</span><span class="o">.</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> <span class="n">CORPUS_DISPLAY_NAME</span><span class="p">:</span> <span class="n">The</span> <span class="n">display</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">RagCorpus</span><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;.</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a> <span class="o">//</span> <span class="n">CreateRagCorpus</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a> <span class="o">//</span> <span class="n">Input</span><span class="p">:</span> <span class="n">LOCATION</span><span class="p">,</span> <span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">CORPUS_DISPLAY_NAME</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a> <span class="o">//</span> <span class="n">Output</span><span class="p">:</span> <span class="n">CreateRagCorpusOperationMetadata</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a> <span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span> \
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a> <span class="s2">&quot;display_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;CORPUS_DISPLAY_NAME&quot;</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a> <span class="p">}</span><span class="s1">&#39;</span>
</span></code></pre></div>
<h3 id="update-a-rag-corpus-example">Update a RAG corpus example<a class="headerlink" href="#update-a-rag-corpus-example" title="Permanent link">&para;</a></h3>
<p>You can update your RAG corpus with a new display name, description, and vector
database configuration. However, you can't change the following
<a href="#update-a-rag-corpus-params-api">parameters</a> in your RAG corpus:</p>
<ul>
<li>The vector database type. For example, you can't change the vector database
 from Weaviate to Vertex AI Feature Store.</li>
<li>If you're using the managed database option, you can't update the vector
 database configuration.</li>
</ul>
<p>These examples demonstrate how to update a RAG corpus.</p>
<h3 id="rest_1">REST<a class="headerlink" href="#rest_1" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>CORPUS_ID: The corpus ID of your RAG corpus.</li>
<li>CORPUS_DISPLAY_NAME: The display name of the <code>RagCorpus</code>.</li>
<li>CORPUS_DESCRIPTION: The description of the <code>RagCorpus</code>.</li>
<li>INDEX_NAME: The resource name of the <code>Vector Search Index</code>. Format: <code>projects/{project}/locations/{location}/indexes/{index}</code></li>
<li>INDEX_ENDPOINT_NAME: The resource name of the <code>Vector Search Index Endpoint</code>. Format: <code>projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}</code></li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">PATCH</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">CORPUS_ID</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a> <span class="s2">&quot;display_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;CORPUS_DISPLAY_NAME&quot;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;CORPUS_DESCRIPTION&quot;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a> <span class="s2">&quot;rag_vector_db_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a> <span class="s2">&quot;vertex_vector_search&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a> <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="s2">&quot;INDEX_NAME&quot;</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a> <span class="s2">&quot;index_endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;INDEX_ENDPOINT_NAME&quot;</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a> <span class="p">}</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a> <span class="p">}</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_1">curl<a class="headerlink" href="#curl_1" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">PATCH</span> \ 
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/CORPUS_ID&quot;</span>
</span></code></pre></div>
<h4 id="powershell_1">PowerShell<a class="headerlink" href="#powershell_1" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">PATCH</span> <span class="err">`</span> 
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/CORPUS_ID&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a successful status code (2xx).</p>
<h3 id="list-rag-corpora-example">List RAG corpora example<a class="headerlink" href="#list-rag-corpora-example" title="Permanent link">&para;</a></h3>
<p>This code sample demonstrates how to list all of the RAG corpora.</p>
<h3 id="rest_2">REST<a class="headerlink" href="#rest_2" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>PAGE_SIZE: The standard list page size. You may adjust the number of <code>RagCorpora</code> to return per page by updating the <code>page_size</code> parameter.</li>
<li>PAGE_TOKEN: The standard list page token. Obtained typically using <code>ListRagCorporaResponse.next_page_token</code> of the previous <code>VertexRagDataService.ListRagCorpora</code> call.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">GET</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="err">?</span><span class="n">page_size</span><span class="o">=</span><span class="n">PAGE_SIZE</span><span class="o">&amp;</span><span class="n">page_token</span><span class="o">=</span><span class="n">PAGE_TOKEN</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_2">curl<a class="headerlink" href="#curl_2" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \ 
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora?page_size=PAGE_SIZE&amp;page_token=PAGE_TOKEN&quot;</span>
</span></code></pre></div>
<h4 id="powershell_2">PowerShell<a class="headerlink" href="#powershell_2" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">GET</span> <span class="err">`</span> 
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora?page_size=PAGE_SIZE&amp;page_token=PAGE_TOKEN&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a successful status code (<code>2xx</code>) and a list of <code>RagCorpora</code> under the given <code>PROJECT_ID</code>.</p>
<h3 id="get-a-rag-corpus-example">Get a RAG corpus example<a class="headerlink" href="#get-a-rag-corpus-example" title="Permanent link">&para;</a></h3>
<h3 id="rest_3">REST<a class="headerlink" href="#rest_3" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">GET</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_3">curl<a class="headerlink" href="#curl_3" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \ 
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID&quot;</span>
</span></code></pre></div>
<h4 id="powershell_3">PowerShell<a class="headerlink" href="#powershell_3" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">GET</span> <span class="err">`</span> 
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the <code>RagCorpus</code> resource.</p>
<p>The <code>get</code> and <code>list</code> commands are used in an example to demonstrate how
<code>RagCorpus</code> uses the <code>rag_embedding_model_config</code> field with in the <code>vector_db_config</code>, which points to the
embedding model you have chosen.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a> <span class="n">PROJECT_ID</span><span class="p">:</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">ID</span><span class="o">.</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a> <span class="n">LOCATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">region</span> <span class="n">to</span> <span class="n">process</span> <span class="n">the</span> <span class="n">request</span><span class="o">.</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a> <span class="n">RAG_CORPUS_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">corpus</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">your</span> <span class="n">RAG</span> <span class="n">corpus</span><span class="o">.</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">//</span> <span class="n">GetRagCorpus</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="o">//</span> <span class="n">Input</span><span class="p">:</span> <span class="n">LOCATION</span><span class="p">,</span> <span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">RAG_CORPUS_ID</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="o">//</span> <span class="n">Output</span><span class="p">:</span> <span class="n">RagCorpus</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="o">//</span> <span class="n">ListRagCorpora</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="n">curl</span> <span class="o">-</span><span class="n">sS</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span>
</span></code></pre></div>
<h3 id="delete-a-rag-corpus-example">Delete a RAG corpus example<a class="headerlink" href="#delete-a-rag-corpus-example" title="Permanent link">&para;</a></h3>
<h3 id="rest_4">REST<a class="headerlink" href="#rest_4" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">DELETE</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_4">curl<a class="headerlink" href="#curl_4" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">DELETE</span> \ 
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID&quot;</span>
</span></code></pre></div>
<h4 id="powershell_4">PowerShell<a class="headerlink" href="#powershell_4" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">DELETE</span> <span class="err">`</span> 
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the <code>DeleteOperationMetadata</code>.</p>
<h2 id="file-management-examples">File management examples<a class="headerlink" href="#file-management-examples" title="Permanent link">&para;</a></h2>
<p>This section provides examples of how to use the API to manage RAG files.</p>
<h3 id="upload-a-rag-file-example">Upload a RAG file example<a class="headerlink" href="#upload-a-rag-file-example" title="Permanent link">&para;</a></h3>
<h3 id="rest_5">REST<a class="headerlink" href="#rest_5" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data, make the following replacements:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a> <span class="n">PROJECT_ID</span><span class="p">:</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">ID</span><span class="o">.</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a> <span class="n">LOCATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">region</span> <span class="n">to</span> <span class="n">process</span> <span class="n">the</span> <span class="n">request</span><span class="o">.</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a> <span class="n">RAG_CORPUS_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">corpus</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">your</span> <span class="n">RAG</span> <span class="n">corpus</span><span class="o">.</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a> <span class="n">LOCAL_FILE_PATH</span><span class="p">:</span> <span class="n">The</span> <span class="n">local</span> <span class="n">path</span> <span class="n">to</span> <span class="n">the</span> <span class="n">file</span> <span class="n">to</span> <span class="n">be</span> <span class="n">uploaded</span><span class="o">.</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a> <span class="n">DISPLAY_NAME</span><span class="p">:</span> <span class="n">The</span> <span class="n">display</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">RAG</span> <span class="n">file</span><span class="o">.</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a> <span class="n">DESCRIPTION</span><span class="p">:</span> <span class="n">The</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">RAG</span> <span class="n">file</span><span class="o">.</span>
</span></code></pre></div>
<p>To send your request, use the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a> <span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;X-Goog-Upload-Protocol: multipart&quot;</span> \
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a> <span class="o">-</span><span class="n">F</span> <span class="n">metadata</span><span class="o">=</span><span class="s2">&quot;{&#39;rag_file&#39;: {&#39;display_name&#39;:&#39; DISPLAY_NAME&#39;, &#39;description&#39;:&#39;DESCRIPTION&#39;}}&quot;</span> \
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a> <span class="o">-</span><span class="n">F</span> <span class="n">file</span><span class="o">=</span><span class="nd">@LOCAL_FILE_PATH</span> \
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/upload/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:upload&quot;</span>
</span></code></pre></div>
<h3 id="import-rag-files-example">Import RAG files example<a class="headerlink" href="#import-rag-files-example" title="Permanent link">&para;</a></h3>
<p>Files and folders can be imported from Drive or
Cloud Storage.</p>
<p>The <code>response.skipped_rag_files_count</code> refers to the number of files that
were skipped during import. A file is skipped when the following conditions are
met:</p>
<ol>
<li>The file has already been imported.</li>
<li>The file hasn't changed.</li>
<li>The chunking configuration for the file hasn't changed.</li>
</ol>
<h3 id="rest_6">REST<a class="headerlink" href="#rest_6" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
<li>GCS_URIS: A list of Cloud Storage locations. Example: <code>gs://my-bucket1, gs://my-bucket2</code>.</li>
<li>CHUNK_SIZE: Optional: Number of tokens each chunk should have.</li>
<li>CHUNK_OVERLAP: Optional: Number of tokens overlap between chunks.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="p">:</span><span class="kn">import</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="p">{</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a> <span class="s2">&quot;import_rag_files_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a> <span class="s2">&quot;gcs_source&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a> <span class="s2">&quot;uris&quot;</span><span class="p">:</span> <span class="s2">&quot;GCS_URIS&quot;</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a> <span class="p">},</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a> <span class="s2">&quot;rag_file_chunking_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a> <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="n">CHUNK_SIZE</span><span class="p">,</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a> <span class="s2">&quot;chunk_overlap&quot;</span><span class="p">:</span> <span class="n">CHUNK_OVERLAP</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a> <span class="p">}</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a> <span class="p">}</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_5">curl<a class="headerlink" href="#curl_5" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import&quot;</span>
</span></code></pre></div>
<h4 id="powershell_5">PowerShell<a class="headerlink" href="#powershell_5" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the <code>ImportRagFilesOperationMetadata</code> resource.</p>
<p>The following sample demonstrates how to import a file from
Cloud Storage. Use the <code>max_embedding_requests_per_min</code> control field
to limit the rate at which RAG Engine calls the embedding model during the
<code>ImportRagFiles</code> indexing process. The field has a default value of <code>1000</code> calls
per minute.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a> <span class="n">PROJECT_ID</span><span class="p">:</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">ID</span><span class="o">.</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a> <span class="n">LOCATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">region</span> <span class="n">to</span> <span class="n">process</span> <span class="n">the</span> <span class="n">request</span><span class="o">.</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a> <span class="n">RAG_CORPUS_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">corpus</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">your</span> <span class="n">RAG</span> <span class="n">corpus</span><span class="o">.</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a> <span class="n">GCS_URIS</span><span class="p">:</span> <span class="n">A</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">Cloud</span> <span class="n">Storage</span> <span class="n">locations</span><span class="o">.</span> <span class="n">Example</span><span class="p">:</span> <span class="n">gs</span><span class="p">:</span><span class="o">//</span><span class="n">my</span><span class="o">-</span><span class="n">bucket1</span><span class="o">.</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a> <span class="n">CHUNK_SIZE</span><span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">tokens</span> <span class="n">each</span> <span class="n">chunk</span> <span class="n">should</span> <span class="n">have</span><span class="o">.</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a> <span class="n">CHUNK_OVERLAP</span><span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">tokens</span> <span class="n">overlap</span> <span class="n">between</span> <span class="n">chunks</span><span class="o">.</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a> <span class="n">EMBEDDING_MODEL_QPM_RATE</span><span class="p">:</span> <span class="n">The</span> <span class="n">QPM</span> <span class="n">rate</span> <span class="n">to</span> <span class="n">limit</span> <span class="n">RAGs</span> <span class="n">access</span> <span class="n">to</span> <span class="n">your</span> <span class="n">embedding</span> <span class="n">model</span><span class="o">.</span> <span class="n">Example</span><span class="p">:</span> <span class="mf">1000.</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">//</span> <span class="n">ImportRagFiles</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="o">//</span> <span class="n">Import</span> <span class="n">a</span> <span class="n">single</span> <span class="n">Cloud</span> <span class="n">Storage</span> <span class="n">file</span> <span class="ow">or</span> <span class="nb">all</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">Cloud</span> <span class="n">Storage</span> <span class="n">bucket</span><span class="o">.</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="o">//</span> <span class="n">Input</span><span class="p">:</span> <span class="n">LOCATION</span><span class="p">,</span> <span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">RAG_CORPUS_ID</span><span class="p">,</span> <span class="n">GCS_URIS</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="o">//</span> <span class="n">Output</span><span class="p">:</span> <span class="n">ImportRagFilesOperationMetadataNumber</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="o">//</span> <span class="n">Use</span> <span class="n">ListRagFiles</span> <span class="n">to</span> <span class="n">find</span> <span class="n">the</span> <span class="n">server</span><span class="o">-</span><span class="n">generated</span> <span class="n">rag_file_id</span><span class="o">.</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="p">:</span><span class="kn">import</span><span class="w"> \</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a> <span class="s2">&quot;import_rag_files_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a> <span class="s2">&quot;gcs_source&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a> <span class="s2">&quot;uris&quot;</span><span class="p">:</span> <span class="s2">&quot;GCS_URIS&quot;</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a> <span class="p">},</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a> <span class="s2">&quot;rag_file_chunking_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a> <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="n">CHUNK_SIZE</span><span class="p">,</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a> <span class="s2">&quot;chunk_overlap&quot;</span><span class="p">:</span> <span class="n">CHUNK_OVERLAP</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a> <span class="p">},</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a> <span class="s2">&quot;max_embedding_requests_per_min&quot;</span><span class="p">:</span> <span class="n">EMBEDDING_MODEL_QPM_RATE</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a> <span class="p">}</span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="p">}</span><span class="s1">&#39;</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="o">//</span> <span class="n">Poll</span> <span class="n">the</span> <span class="n">operation</span> <span class="n">status</span><span class="o">.</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="o">//</span> <span class="n">The</span> <span class="n">response</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">files</span> <span class="n">imported</span><span class="o">.</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="n">OPERATION_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">operation</span> <span class="n">ID</span> <span class="n">you</span> <span class="n">get</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">response</span> <span class="n">of</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">command</span><span class="o">.</span>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="n">poll_op_wait</span> <span class="n">OPERATION_ID</span>
</span></code></pre></div>
<p>The following sample demonstrates how to import a file from
Drive. Use the <code>max_embedding_requests_per_min</code> control field to
limit the rate at which RAG Engine calls the embedding model during the
<code>ImportRagFiles</code> indexing process. The field has a default value of <code>1000</code> calls
per minute.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a> <span class="n">PROJECT_ID</span><span class="p">:</span> <span class="n">Your</span> <span class="n">project</span> <span class="n">ID</span><span class="o">.</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a> <span class="n">LOCATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">region</span> <span class="n">to</span> <span class="n">process</span> <span class="n">the</span> <span class="n">request</span><span class="o">.</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a> <span class="n">RAG_CORPUS_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">corpus</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">your</span> <span class="n">RAG</span> <span class="n">corpus</span><span class="o">.</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a> <span class="n">FOLDER_RESOURCE_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">resource</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">your</span> <span class="n">Google</span> <span class="n">Drive</span> <span class="n">folder</span><span class="o">.</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a> <span class="n">CHUNK_SIZE</span><span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">tokens</span> <span class="n">each</span> <span class="n">chunk</span> <span class="n">should</span> <span class="n">have</span><span class="o">.</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a> <span class="n">CHUNK_OVERLAP</span><span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">tokens</span> <span class="n">overlap</span> <span class="n">between</span> <span class="n">chunks</span><span class="o">.</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a> <span class="n">EMBEDDING_MODEL_QPM_RATE</span><span class="p">:</span> <span class="n">The</span> <span class="n">QPM</span> <span class="n">rate</span> <span class="n">to</span> <span class="n">limit</span> <span class="n">RAGs</span> <span class="n">access</span> <span class="n">to</span> <span class="n">your</span> <span class="n">embedding</span> <span class="n">model</span><span class="o">.</span> <span class="n">Example</span><span class="p">:</span> <span class="mf">1000.</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="o">//</span> <span class="n">ImportRagFiles</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="o">//</span> <span class="n">Import</span> <span class="nb">all</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">Google</span> <span class="n">Drive</span> <span class="n">folder</span><span class="o">.</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="o">//</span> <span class="n">Input</span><span class="p">:</span> <span class="n">LOCATION</span><span class="p">,</span> <span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">RAG_CORPUS_ID</span><span class="p">,</span> <span class="n">FOLDER_RESOURCE_ID</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="o">//</span> <span class="n">Output</span><span class="p">:</span> <span class="n">ImportRagFilesOperationMetadataNumber</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="o">//</span> <span class="n">Use</span> <span class="n">ListRagFiles</span> <span class="n">to</span> <span class="n">find</span> <span class="n">the</span> <span class="n">server</span><span class="o">-</span><span class="n">generated</span> <span class="n">rag_file_id</span><span class="o">.</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="p">:</span><span class="kn">import</span><span class="w"> \</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a> <span class="s2">&quot;import_rag_files_config&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a> <span class="s2">&quot;google_drive_source&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a> <span class="s2">&quot;resource_ids&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a> <span class="s2">&quot;resource_id&quot;</span><span class="p">:</span> <span class="s2">&quot;FOLDER_RESOURCE_ID&quot;</span><span class="p">,</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a> <span class="s2">&quot;resource_type&quot;</span><span class="p">:</span> <span class="s2">&quot;RESOURCE_TYPE_FOLDER&quot;</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a> <span class="p">}</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a> <span class="p">},</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a> <span class="s2">&quot;max_embedding_requests_per_min&quot;</span><span class="p">:</span> <span class="n">EMBEDDING_MODEL_QPM_RATE</span>
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a> <span class="p">}</span>
</span><span id="__span-30-20"><a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="p">}</span><span class="s1">&#39;</span>
</span><span id="__span-30-21"><a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a>
</span><span id="__span-30-22"><a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="o">//</span> <span class="n">Poll</span> <span class="n">the</span> <span class="n">operation</span> <span class="n">status</span><span class="o">.</span>
</span><span id="__span-30-23"><a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="o">//</span> <span class="n">The</span> <span class="n">response</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">files</span> <span class="n">imported</span><span class="o">.</span>
</span><span id="__span-30-24"><a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="n">OPERATION_ID</span><span class="p">:</span> <span class="n">The</span> <span class="n">operation</span> <span class="n">ID</span> <span class="n">you</span> <span class="n">get</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">response</span> <span class="n">of</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">command</span><span class="o">.</span>
</span><span id="__span-30-25"><a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="n">poll_op_wait</span> <span class="n">OPERATION_ID</span>
</span></code></pre></div>
<h3 id="list-rag-files-example">List RAG files example<a class="headerlink" href="#list-rag-files-example" title="Permanent link">&para;</a></h3>
<p>This code sample demonstrates how to list RAG files.</p>
<h3 id="rest_7">REST<a class="headerlink" href="#rest_7" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
<li>PAGE_SIZE: The standard list page size. You may adjust the number of <code>RagFiles</code> to return per page by updating the <code>page_size</code> parameter.</li>
<li>PAGE_TOKEN: The standard list page token. Obtained typically using <code>ListRagFilesResponse.next_page_token</code> of the previous <code>VertexRagDataService.ListRagFiles</code> call.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">GET</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="err">?</span><span class="n">page_size</span><span class="o">=</span><span class="n">PAGE_SIZE</span><span class="o">&amp;</span><span class="n">page_token</span><span class="o">=</span><span class="n">PAGE_TOKEN</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_6">curl<a class="headerlink" href="#curl_6" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \ 
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles?page_size=PAGE_SIZE&amp;page_token=PAGE_TOKEN&quot;</span>
</span></code></pre></div>
<h4 id="powershell_6">PowerShell<a class="headerlink" href="#powershell_6" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">GET</span> <span class="err">`</span> 
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles?page_size=PAGE_SIZE&amp;page_token=PAGE_TOKEN&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a successful status code (2xx) along with a list of <code>RagFiles</code> under the given <code>RAG_CORPUS_ID</code>.</p>
<h3 id="get-a-rag-file-example">Get a RAG file example<a class="headerlink" href="#get-a-rag-file-example" title="Permanent link">&para;</a></h3>
<p>This code sample demonstrates how to get a RAG file.</p>
<h3 id="rest_8">REST<a class="headerlink" href="#rest_8" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
<li>RAG_FILE_ID: The ID of the <code>RagFile</code> resource.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">GET</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="o">/</span><span class="n">RAG_FILE_ID</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_7">curl<a class="headerlink" href="#curl_7" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> \ 
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID&quot;</span>
</span></code></pre></div>
<h4 id="powershell_7">PowerShell<a class="headerlink" href="#powershell_7" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">GET</span> <span class="err">`</span> 
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the <code>RagFile</code> resource.</p>
<h3 id="delete-a-rag-file-example">Delete a RAG file example<a class="headerlink" href="#delete-a-rag-file-example" title="Permanent link">&para;</a></h3>
<p>This code sample demonstrates how to delete a RAG file.</p>
<h3 id="rest_9">REST<a class="headerlink" href="#rest_9" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>RAG_CORPUS_ID: The ID of the <code>RagCorpus</code> resource.</li>
<li>RAG_FILE_ID: The ID of the <code>RagFile</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus}/ragFiles/{rag_file_id}</code>.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">DELETE</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">ragCorpora</span><span class="o">/</span><span class="n">RAG_CORPUS_ID</span><span class="o">/</span><span class="n">ragFiles</span><span class="o">/</span><span class="n">RAG_FILE_ID</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_8">curl<a class="headerlink" href="#curl_8" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">DELETE</span> \ 
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID&quot;</span>
</span></code></pre></div>
<h4 id="powershell_8">PowerShell<a class="headerlink" href="#powershell_8" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">DELETE</span> <span class="err">`</span> 
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the <code>DeleteOperationMetadata</code> resource.</p>
<h3 id="retrieval-query">Retrieval query<a class="headerlink" href="#retrieval-query" title="Permanent link">&para;</a></h3>
<p>When a user asks a question or provides a prompt, the retrieval component in RAG searches through its knowledge base to find information that is relevant to the query.</p>
<h3 id="rest_10">REST<a class="headerlink" href="#rest_10" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>LOCATION: The region to process the request.</li>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>RAG_CORPUS_RESOURCE: The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus}</code>.</li>
<li>VECTOR_DISTANCE_THRESHOLD: Only contexts with a vector distance smaller than the threshold are returned.</li>
<li>TEXT: The query text to get relevant contexts.</li>
<li>SIMILARITY_TOP_K: The number of top contexts to retrieve.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="p">:</span><span class="n">retrieveContexts</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="p">{</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a> <span class="s2">&quot;vertex_rag_store&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a> <span class="s2">&quot;rag_resources&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a> <span class="s2">&quot;rag_corpus&quot;</span><span class="p">:</span> <span class="s2">&quot;RAG_CORPUS_RESOURCE&quot;</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a> <span class="p">},</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a> <span class="s2">&quot;vector_distance_threshold&quot;</span><span class="p">:</span> <span class="n">VECTOR_DISTANCE_THRESHOLD</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a> <span class="p">},</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a> <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a> <span class="s2">&quot;similarity_top_k&quot;</span><span class="p">:</span> <span class="n">SIMILARITY_TOP_K</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a> <span class="p">}</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_9">curl<a class="headerlink" href="#curl_9" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION:retrieveContexts&quot;</span>
</span></code></pre></div>
<h4 id="powershell_9">PowerShell<a class="headerlink" href="#powershell_9" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION:retrieveContexts&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a successful status code (2xx) and a list of related <code>RagFiles</code>.</p>
<h3 id="generation">Generation<a class="headerlink" href="#generation" title="Permanent link">&para;</a></h3>
<p>The LLM generates a grounded response using the retrieved contexts.</p>
<h3 id="rest_11">REST<a class="headerlink" href="#rest_11" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: The region to process the request.</li>
<li>MODEL_ID: LLM model for content generation. Example: <code>gemini-2.0-flash-001</code></li>
<li>GENERATION_METHOD: LLM method for content generation. Options: <code>generateContent</code>, <code>streamGenerateContent</code></li>
<li>INPUT_PROMPT: The text sent to the LLM for content generation. Try to use a prompt relevant to the uploaded rag Files.</li>
<li>RAG_CORPUS_RESOURCE: The name of the <code>RagCorpus</code> resource. Format: <code>projects/{project}/locations/{location}/ragCorpora/{rag_corpus}</code>.</li>
<li>SIMILARITY_TOP_K: Optional: The number of top contexts to retrieve.</li>
<li>VECTOR_DISTANCE_THRESHOLD: Optional: Contexts with a vector distance smaller than the threshold are returned.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1beta1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">MODEL_ID</span><span class="p">:</span><span class="n">GENERATION_METHOD</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="p">{</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a> <span class="s2">&quot;contents&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a> <span class="s2">&quot;parts&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;INPUT_PROMPT&quot;</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a> <span class="p">}</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a> <span class="p">},</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a> <span class="s2">&quot;tools&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a> <span class="s2">&quot;retrieval&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a> <span class="s2">&quot;disable_attribution&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a> <span class="s2">&quot;vertex_rag_store&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a> <span class="s2">&quot;rag_resources&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a> <span class="s2">&quot;rag_corpus&quot;</span><span class="p">:</span> <span class="s2">&quot;RAG_CORPUS_RESOURCE&quot;</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a> <span class="p">},</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a> <span class="s2">&quot;similarity_top_k&quot;</span><span class="p">:</span> <span class="n">SIMILARITY_TOP_K</span><span class="p">,</span>
</span><span id="__span-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a> <span class="s2">&quot;vector_distance_threshold&quot;</span><span class="p">:</span> <span class="n">VECTOR_DISTANCE_THRESHOLD</span>
</span><span id="__span-45-17"><a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a> <span class="p">}</span>
</span><span id="__span-45-18"><a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a> <span class="p">}</span>
</span><span id="__span-45-19"><a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a> <span class="p">}</span>
</span><span id="__span-45-20"><a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_10">curl<a class="headerlink" href="#curl_10" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_ID:GENERATION_METHOD&quot;</span>
</span></code></pre></div>
<h4 id="powershell_10">PowerShell<a class="headerlink" href="#powershell_10" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1beta1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_ID:GENERATION_METHOD&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>A successful response returns the generated content with citations.</p>
<h2 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<ul>
<li>To learn more about supported generation models, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/supported-rag-models">Generative AI models that support RAG</a>.</li>
<li>To learn more about supported embedding models,
 see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/use-embedding-models#supported-embedding-models">Embedding models</a>.</li>
<li>To learn more about open models, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/use-embedding-models#use-oss-embedding-models">Open models</a>.</li>
<li>To learn more about RAG Engine, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/rag-overview">RAG Engine overview</a>.</li>
</ul>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow", "navigation.tabs", "navigation.sections", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../js/chat-widget/gemini-client.js"></script>
      
        <script src="../../js/chat-widget/init.js"></script>
      
        <script src="../../js/chat-widget/setup-key.js"></script>
      
        <script src="../../js/chat-widget-helper.js"></script>
      
    
  </body>
</html>