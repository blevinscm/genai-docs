
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blevinscm.github.com/genai-docs/image/Generate-images-using-text-prompts/">
      
      
        <link rel="prev" href="../../multimodal/Text-generationbookmark_borderbookmark/">
      
      
        <link rel="next" href="../../Generate-images-with-Gemini/">
      
      
      <link rel="icon" href="../../assets/google-cloud-vertex-ai.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Generate Images Using Text Prompts - Vertex Generative AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../js/chat-widget/chat-widget.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#generate-images-using-text-prompts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vertex Generative AI" class="md-header__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vertex Generative AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Generate Images Using Text Prompts
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-tabs__link">
          
  
  
    
  
  Learn

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../agent-engine/Set-up-the-environment/" class="md-tabs__link">
          
  
  
    
  
  Build

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/Introduction-to-tuning/" class="md-tabs__link">
          
  
  
    
  
  Tune

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../deploy/Deploy-generative-AI-models/" class="md-tabs__link">
          
  
  
    
  
  Deploy

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-tabs__link">
          
  
  
    
  
  Manage

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/evaluation-overview/" class="md-tabs__link">
          
  
  
    
  
  Optimize

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vertex Generative AI" class="md-nav__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    Vertex Generative AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Learn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Generative AI Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supported-models_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gemini Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Imagen-on-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Imagen Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code/code-models-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../intelligent-code-commenter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intelligent Code Commenter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-models/Use-Gemma-open-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open Models (Gemma, Llama)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../partner-models/use-partner-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partner Models (Claude, AI21)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Introduction-to-prompting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Prompting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Overview-of-prompting-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompting Strategies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Design-multimodal-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Choose-an-embeddings-task-type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embeddings Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Introduction-to-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function Calling Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Ground-responses-using-RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grounding Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/Vertex-AI-Agent-Builder-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Builder Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Vertex-AI-Agent-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Vertex-AI-RAG-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Extensions-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Example-Store-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example Store Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-and-data-governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security-controls-for-Generative-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security & Safety
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deprecations/Model-versions-and-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deprecations & Lifecycle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-help_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Build
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Build
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Set-up-the-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up Environment (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-an-Agent-Development-Kit-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop ADK Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangGraph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangGraph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chat/Design-chat-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Chat Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Text-generationbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Text with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Generate Images with Imagen
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Imagen
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#locations" class="md-nav__link">
    <span class="md-ellipsis">
      Locations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Safety filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-and-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Performance and limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Model versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    <span class="md-ellipsis">
      Before you begin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-images-with-text" class="md-nav__link">
    <span class="md-ellipsis">
      Generate images with text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generate images with text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-parameters-to-generate-images" class="md-nav__link">
    <span class="md-ellipsis">
      Use parameters to generate images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use parameters to generate images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-or-verify-an-image-watermark" class="md-nav__link">
    <span class="md-ellipsis">
      Add or verify an image watermark
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Add or verify an image watermark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-watermarked-images" class="md-nav__link">
    <span class="md-ellipsis">
      Generate watermarked images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_1" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_1" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_1" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_1" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertex-ai-sdk-for-python" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex AI SDK for Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-a-watermarked-image" class="md-nav__link">
    <span class="md-ellipsis">
      Verify a watermarked image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-responsible-ai-rai-safety-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Responsible AI (RAI) safety settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_2" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_2" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_2" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_2" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-enhancement-using-prompt-rewriter" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt enhancement using prompt rewriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_3" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_3" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_3" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_3" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-prompt-language" class="md-nav__link">
    <span class="md-ellipsis">
      Text prompt language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text prompt language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-you-begin_1" class="md-nav__link">
    <span class="md-ellipsis">
      Before you begin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-text-prompt-language" class="md-nav__link">
    <span class="md-ellipsis">
      Set text prompt language
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_4" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_4" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_4" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_4" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aspect-ratio" class="md-nav__link">
    <span class="md-ellipsis">
      Aspect ratio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_5" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_5" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-of-results" class="md-nav__link">
    <span class="md-ellipsis">
      Number of results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_6" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_6" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Negative prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_7" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_7" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seed-number" class="md-nav__link">
    <span class="md-ellipsis">
      Seed number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_8" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_8" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-style" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_9" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_9" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upscale-an-image" class="md-nav__link">
    <span class="md-ellipsis">
      Upscale an image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upscale an image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console_10" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_10" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_5" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_5" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generate-images-with-Gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../video/generate-videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Video with Veo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-batch-text-embeddings-predictions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Text Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-multimodal-embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Multimodal Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/Function-calling-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Use-Google-Search-suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Google Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Grounding-with-your-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Your Data)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Use-data-ingestion-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Data Ingestion)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/use-vertexai-vector-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Vector Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-a-Weaviate-database-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Weaviate)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Create-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Context Cache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Create-and-run-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Retrieve-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Example Store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/audio-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Audio Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Document-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Document Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Video-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Video Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt-gallery/samples/summarize_summarize_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Gallery Samples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tune
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tune
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Introduction-to-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Model Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/About-supervised-fine-tuning-for-Gemini-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini Models (Supervised)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/gemini-supervised-tuning-prepare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prepare Data for Gemini SFT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/tune_gemini/text_tune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini for Text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Style-customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Imagen Models (Style/Subject)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Tune-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/LoRA-and-QLoRA-recommendations-for-LLMs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LoRA & QLoRA Recommendations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Fine-tune-RAG-transformations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-tune RAG Transformations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Deploy-generative-AI-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Generative AI Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Agent (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Deployments-and-endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployments and Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/Use-models-in-Model-Garden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Models from Model Garden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Purchase-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchase Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/Migrate-to-the-Gemini-API-from-Azure-OpenAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate from Azure OpenAI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/openai/Using-OpenAI-libraries-with-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use OpenAI Libraries with Vertex AI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Manage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Deployed Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-using-direct-API-calls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (API)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-with-Agent-Development-Kit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (ADK)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Get-information-about-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Context Cache (Get/Delete)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Manage-your-RAG-knowledge-base-corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage RAG Corpus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/Model-monitoring-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Monitoring Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quotas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quotas & Limits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-deploying-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-developing-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Development
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Optimize
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Optimize
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/evaluation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Evaluation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Gen-AI-evaluation-service-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gen AI Evaluation Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Run-AutoSxS-pipeline-to-perform-pairwise-model-based-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run AutoSxS (Pairwise Evaluation)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/Evaluate-Gen-AI-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Evaluate Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Optimize-promptsbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Retrieval-and-ranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Retrieval and Ranking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/Vertex-AI-Model-Optimizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Model Optimizer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../provisioned-throughput/Calculate-Provisioned-Throughput-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calculate Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/count-tokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Count Tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#locations" class="md-nav__link">
    <span class="md-ellipsis">
      Locations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Safety filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-and-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Performance and limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Model versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    <span class="md-ellipsis">
      Before you begin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-images-with-text" class="md-nav__link">
    <span class="md-ellipsis">
      Generate images with text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generate images with text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-parameters-to-generate-images" class="md-nav__link">
    <span class="md-ellipsis">
      Use parameters to generate images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use parameters to generate images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-or-verify-an-image-watermark" class="md-nav__link">
    <span class="md-ellipsis">
      Add or verify an image watermark
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Add or verify an image watermark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-watermarked-images" class="md-nav__link">
    <span class="md-ellipsis">
      Generate watermarked images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_1" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_1" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_1" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_1" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertex-ai-sdk-for-python" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex AI SDK for Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs_1" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-a-watermarked-image" class="md-nav__link">
    <span class="md-ellipsis">
      Verify a watermarked image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-responsible-ai-rai-safety-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Responsible AI (RAI) safety settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_2" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_2" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_2" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_2" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-enhancement-using-prompt-rewriter" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt enhancement using prompt rewriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_3" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_3" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_3" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_3" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-prompt-language" class="md-nav__link">
    <span class="md-ellipsis">
      Text prompt language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text prompt language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-you-begin_1" class="md-nav__link">
    <span class="md-ellipsis">
      Before you begin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-text-prompt-language" class="md-nav__link">
    <span class="md-ellipsis">
      Set text prompt language
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_4" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_4" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_4" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_4" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aspect-ratio" class="md-nav__link">
    <span class="md-ellipsis">
      Aspect ratio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_5" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_5" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-of-results" class="md-nav__link">
    <span class="md-ellipsis">
      Number of results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_6" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_6" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Negative prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_7" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_7" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seed-number" class="md-nav__link">
    <span class="md-ellipsis">
      Seed number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_8" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_8" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-style" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#console_9" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_9" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upscale-an-image" class="md-nav__link">
    <span class="md-ellipsis">
      Upscale an image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upscale an image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console_10" class="md-nav__link">
    <span class="md-ellipsis">
      Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest_10" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl_5" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#powershell_5" class="md-nav__link">
    <span class="md-ellipsis">
      PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/blevinscm/genai-docs/edit/main/docs/image/Generate-images-using-text-prompts.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="generate-images-using-text-prompts">Generate images using text prompts<a class="headerlink" href="#generate-images-using-text-prompts" title="Permanent link">&para;</a></h1>
<p><strong>API reference overview</strong>: To view an overview of the API options for image generation and
editing, see the <a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>You can use Imagen on Vertex AI to generate new images from a text prompt you
provide in the Google Cloud console or send in a request to the
Vertex AI API .</p>
<p>For more information about writing text prompts for image generation and editing,
see the <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/img-gen-prompt-guide">prompt guide</a>.</p>
<p><a href="https://console.cloud.google.com/vertex-ai/publishers/google/model-garden/imagen-3.0-generate-002">View Imagen for Generation model card</a></p>
<p><a href="https://console.cloud.google.com/vertex-ai/generative/vision">Try image generation (Vertex AI Studio)</a></p>
<h2 id="locations">Locations<a class="headerlink" href="#locations" title="Permanent link">&para;</a></h2>
<p>A location is a <a href="/about/locations">region</a> you can specify in a request to
control where data is stored at rest. For a list of available regions, see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.</p>
<h2 id="safety-filtering">Safety filtering<a class="headerlink" href="#safety-filtering" title="Permanent link">&para;</a></h2>
<p>Both input data and output content are checked for offensive material when
you send an image generation request to Imagen. This means a text
prompt input that's offensive can be blocked. Similarly, offensive output images
might also be blocked, affecting the number of generated images you get in a
response.</p>
<p>For more information about safety filtering and blocked content handling, see
<a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen#safety-filters">Responsible AI and usage guidelines for
Imagen</a>.</p>
<h2 id="performance-and-limitations">Performance and limitations<a class="headerlink" href="#performance-and-limitations" title="Permanent link">&para;</a></h2>
<p>The following limits apply when you use an Imagen model
for image generation:</p>
<table>
<thead>
<tr>
<th>Limits</th>
<th>Value (Imagen3)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maximum number of API requests per minute per project</td>
<td>Imagen3: 20 Imagen3Fast: 200</td>
</tr>
<tr>
<td>Maximum number of images returned per request (text-to-image generation)</td>
<td>4</td>
</tr>
<tr>
<td>Maximum image size uploaded or sent in a request (MB)</td>
<td>10MB</td>
</tr>
<tr>
<td>Supported returned image resolution (pixels)</td>
<td>- 1024x1024 pixels (1:1 aspect ratio) - 896x1280 (3:4 aspect ratio) - 1280x896 (4:3 aspect ratio) - 768x1408 (9:16 aspect ratio) - 1408x768 (16:9 aspect ratio)</td>
</tr>
<tr>
<td>Maximum number of input tokens (text-to-image generation prompt text)</td>
<td>480 tokens</td>
</tr>
</tbody>
</table>
<h2 id="model-versions">Model versions<a class="headerlink" href="#model-versions" title="Permanent link">&para;</a></h2>
<p>There are multiple image generation models that you can use. For more
information, see <a href="../../supported-models_1/">Imagen
models</a>.</p>
<h2 id="before-you-begin">Before you begin<a class="headerlink" href="#before-you-begin" title="Permanent link">&para;</a></h2>
<ul>
<li>Sign in to your Google Cloud account. If you're new to
 Google Cloud, <a href="https://console.cloud.google.com/freetrial">create an account</a> to evaluate how our products perform in
 real-world scenarios. New customers also get $300 in free credits to
 run, test, and deploy workloads.</li>
<li>In the Google Cloud console, on the project selector page,
 select or create a Google Cloud project.</li>
</ul>
<p><strong>Note</strong>: If you don't plan to keep the
 resources that you create in this procedure, create a project instead of
 selecting an existing project. After you finish these steps, you can
 delete the project, removing all resources associated with the project.</p>
<p><a href="https://console.cloud.google.com/projectselector2/home/dashboard">Go to project selector</a>
- <a href="https://cloud.google.com/billing/docs/how-to/verify-billing-enabled#confirm_billing_is_enabled_on_a_project">Make sure that billing is enabled for your Google Cloud project</a>.
- Enable the Vertex AI API.</p>
<p><a href="https://console.cloud.google.com/flows/enableapi?apiid=aiplatform.googleapis.com">Enable the API</a>
- In the Google Cloud console, on the project selector page,
 select or create a Google Cloud project.</p>
<p><strong>Note</strong>: If you don't plan to keep the
 resources that you create in this procedure, create a project instead of
 selecting an existing project. After you finish these steps, you can
 delete the project, removing all resources associated with the project.</p>
<p><a href="https://console.cloud.google.com/projectselector2/home/dashboard">Go to project selector</a>
- <a href="https://cloud.google.com/billing/docs/how-to/verify-billing-enabled#confirm_billing_is_enabled_on_a_project">Make sure that billing is enabled for your Google Cloud project</a>.
- Enable the Vertex AI API.</p>
<p><a href="https://console.cloud.google.com/flows/enableapi?apiid=aiplatform.googleapis.com">Enable the API</a>
1. Set up authentication for your environment.</p>
<p>Select the tab for how you plan to use the samples on this page:</p>
<p>### Console</p>
<p>When you use the Google Cloud console to access Google Cloud services and
 APIs, you don't need to set up authentication.</p>
<p>### Java</p>
<p>To use the Java samples on this page in a local
 development environment, install and initialize the gcloud CLI, and
 then set up Application Default Credentials with your user credentials.</p>
<ol>
<li><a href="https://cloud.google.com/sdk/docs/install">Install</a> the Google Cloud CLI.</li>
<li>If you're using an external identity provider (IdP), you must first
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">sign in to the gcloud CLI with your federated identity</a>.</li>
<li>To <a href="https://cloud.google.com/sdk/docs/initializing">initialize</a> the gcloud CLI, run the following command:</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">gcloud</span> <span class="n">init</span>
</span></code></pre></div>
 4. If you're using a local shell, then create local authentication credentials for your user
 account:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">gcloud</span> <span class="n">auth</span> <span class="n">application</span><span class="o">-</span><span class="n">default</span> <span class="n">login</span>
</span></code></pre></div>
<p>You don't need to do this if you're using Cloud Shell.</p>
<p>If an authentication error is returned, and you are using an external identity provider
 (IdP), confirm that you have
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">signed in to the gcloud CLI with your federated identity</a>.</p>
<p>For more information, see
 <a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up ADC for a local development environment</a>
 in the Google Cloud authentication documentation.</p>
<p>### Node.js</p>
<p>To use the Node.js samples on this page in a local
 development environment, install and initialize the gcloud CLI, and
 then set up Application Default Credentials with your user credentials.</p>
<ol>
<li><a href="https://cloud.google.com/sdk/docs/install">Install</a> the Google Cloud CLI.</li>
<li>If you're using an external identity provider (IdP), you must first
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">sign in to the gcloud CLI with your federated identity</a>.</li>
<li>To <a href="https://cloud.google.com/sdk/docs/initializing">initialize</a> the gcloud CLI, run the following command:</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">gcloud</span> <span class="n">init</span>
</span></code></pre></div>
 4. If you're using a local shell, then create local authentication credentials for your user
 account:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">gcloud</span> <span class="n">auth</span> <span class="n">application</span><span class="o">-</span><span class="n">default</span> <span class="n">login</span>
</span></code></pre></div>
<p>You don't need to do this if you're using Cloud Shell.</p>
<p>If an authentication error is returned, and you are using an external identity provider
 (IdP), confirm that you have
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">signed in to the gcloud CLI with your federated identity</a>.</p>
<p>For more information, see
 <a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up ADC for a local development environment</a>
 in the Google Cloud authentication documentation.</p>
<p>### Python</p>
<p>To use the Python samples on this page in a local
 development environment, install and initialize the gcloud CLI, and
 then set up Application Default Credentials with your user credentials.</p>
<ol>
<li><a href="https://cloud.google.com/sdk/docs/install">Install</a> the Google Cloud CLI.</li>
<li>If you're using an external identity provider (IdP), you must first
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">sign in to the gcloud CLI with your federated identity</a>.</li>
<li>To <a href="https://cloud.google.com/sdk/docs/initializing">initialize</a> the gcloud CLI, run the following command:</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">gcloud</span> <span class="n">init</span>
</span></code></pre></div>
 4. If you're using a local shell, then create local authentication credentials for your user
 account:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">gcloud</span> <span class="n">auth</span> <span class="n">application</span><span class="o">-</span><span class="n">default</span> <span class="n">login</span>
</span></code></pre></div>
<p>You don't need to do this if you're using Cloud Shell.</p>
<p>If an authentication error is returned, and you are using an external identity provider
 (IdP), confirm that you have
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">signed in to the gcloud CLI with your federated identity</a>.</p>
<p>For more information, see
 <a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up ADC for a local development environment</a>
 in the Google Cloud authentication documentation.</p>
<p>### REST</p>
<p>To use the REST API samples on this page in a local development environment,
 you use the credentials you provide to the gcloud CLI.</p>
<p>After <a href="https://cloud.google.com/sdk/docs/install">installing</a> the Google Cloud CLI,
 <a href="https://cloud.google.com/sdk/docs/initializing">initialize</a> it by running the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">gcloud</span> <span class="n">init</span>
</span></code></pre></div>
<p>If you're using an external identity provider (IdP), you must first
 <a href="https://cloud.google.com/iam/docs/workforce-log-in-gcloud">sign in to the gcloud CLI with your federated identity</a>.</p>
<p>For more information, see
 <a href="https://cloud.google.com/docs/authentication/rest">Authenticate for using REST</a>
 in the Google Cloud authentication documentation.</p>
<h2 id="generate-images-with-text">Generate images with text<a class="headerlink" href="#generate-images-with-text" title="Permanent link">&para;</a></h2>
<p>To see examples of image generation using Imagen,
run the following Jupyter notebooks in the environment of your choice:</p>
<ul>
<li>"Image Generation with Imagen on Vertex AI":</li>
</ul>
<p><a href="https://colab.research.google.com/github/GoogleCloudPlatform/generative-ai/blob/main/vision/getting-started/image_generation.ipynb">Open
 in Colab</a>
 |
 <a href="https://console.cloud.google.com/vertex-ai/colab/import/https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fgenerative-ai%2Fmain%2Fvision%2Fgetting-started%2Fimage_generation.ipynb">Open
 in Colab Enterprise</a>
 |
 <a href="https://console.cloud.google.com/vertex-ai/workbench/deploy-notebook?download_url=https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fgenerative-ai%2Fmain%2Fvision%2Fgetting-started%2Fimage_generation.ipynb">Open
 in Vertex AI Workbench user-managed notebooks</a>
 |
 <a href="https://github.com/GoogleCloudPlatform/generative-ai/blob/main/vision/getting-started/image_generation.ipynb">View on GitHub</a>
- "Create High Quality Visual Assets with Imagen and Gemini":</p>
<p><a href="https://colab.research.google.com/github/GoogleCloudPlatform/generative-ai/blob/main/vision/use-cases/creating_high_quality_visual_assets_with_gemini_and_imagen.ipynb">Open
 in Colab</a>
 |
 <a href="https://console.cloud.google.com/vertex-ai/colab/import/https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fgenerative-ai%2Fmain%2Fvision%2Fuse-cases%2Fcreating_high_quality_visual_assets_with_gemini_and_imagen.ipynb">Open
 in Colab Enterprise</a>
 |
 <a href="https://console.cloud.google.com/vertex-ai/workbench/deploy-notebook?download_url=https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fgenerative-ai%2Fmain%2Fvision%2Fuse-cases%2Fcreating_high_quality_visual_assets_with_gemini_and_imagen.ipynb">Open
 in Vertex AI Workbench user-managed notebooks</a>
 |
 <a href="https://github.com/GoogleCloudPlatform/generative-ai/blob/main/vision/use-cases/creating_high_quality_visual_assets_with_gemini_and_imagen.ipynb">View on GitHub</a></p>
<p>You can generate novel images using only descriptive text as an input. The following samples show
you basic instructions to generate images, but you can also use
<a href="#use-params">additional parameters</a> depending on your use case.</p>
<h3 id="console">Console<a class="headerlink" href="#console" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Google Cloud console, open the <strong>Vertex AI Studio &gt; Media</strong> tab in the
 Vertex AI dashboard.</li>
</ol>
<p><a href="https://console.cloud.google.com/vertex-ai/generative/vision">Go to the Vertex AI Studio tab</a>
2. In the <strong>Write your prompt</strong> field, enter a description for the
 images you want to generate. For details about writing effective prompts, see the
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/img-gen-prompt-guide">prompt guide</a>.</p>
<ul>
<li>For example: <em>small boat on water in the morning watercolor
 illustration</em></li>
<li>Optional. In the <strong>Model options</strong> box in the <strong>Parameters</strong> panel, select the model
 version to use. For more information, see <a href="#model-versions">model versions</a>.</li>
<li>Optional. Change <a href="#use-params">standard and advanced parameters</a>.</li>
</ul>
<p>These features are subject to model availability. For more information,
 see <a href="#model-versions">model versions</a>.
5. To generate images, click play_arrow<strong>Generate</strong>.</p>
<p><strong>Image generation</strong> view of images generated with
 Imagen on Vertex AI from the prompt: <em>small red boat on water in the morning watercolor
 illustration muted colors</em>.</p>
<h3 id="rest">REST<a class="headerlink" href="#rest" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>MODEL_VERSION: The <code>imagegeneration</code> model version to use. Available
 values:</li>
<li>Imagen3:</li>
<li><code>imagen-3.0-generate-002</code> (newest model)</li>
<li><code>imagen-3.0-generate-001</code></li>
<li><code>imagen-3.0-fast-generate-001</code> - Low latency model version.</li>
<li>Default model version:</li>
<li><code>imagegeneration</code> - Uses the default model version v.006. As a best practice,
 you should always specify a model version, especially in production environments.</li>
</ul>
<p>For more information about model versions and features, see <a href="#model-versions">model
 versions</a>.
- LOCATION: Your project's region. For example,
 <code>us-central1</code>, <code>europe-west2</code>, or <code>asia-northeast3</code>. For a list
 of available regions, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.
- TEXT_PROMPT: The text prompt that guides what images the model
 generates. This field is required for both generation and editing.
- IMAGE_COUNT: The number of generated images.
 Accepted integer values: 1-8 (<code>imagegeneration@002</code>), 1-4 (all other model versions).
 Default value: 4.</p>
<p><strong>Additional optional parameters</strong></p>
<p>Use the following optional variables depending on your use
case. Add some or all of the following parameters in the <code>"parameters": {}</code> object.
This list shows common optional parameters and isn't meant to be exhaustive. For more
information about optional parameters,
see <a href="../../model-reference/imagen-api/">Imagen API reference: Generate images</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a> <span class="s2">&quot;addWatermark&quot;</span><span class="p">:</span> <span class="n">ADD_WATERMARK</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a> <span class="s2">&quot;aspectRatio&quot;</span><span class="p">:</span> <span class="s2">&quot;ASPECT_RATIO&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a> <span class="s2">&quot;enhancePrompt&quot;</span><span class="p">:</span> <span class="n">ENABLE_PROMPT_REWRITING</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a> <span class="s2">&quot;includeRaiReason&quot;</span><span class="p">:</span> <span class="n">INCLUDE_RAI_REASON</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a> <span class="s2">&quot;includeSafetyAttributes&quot;</span><span class="p">:</span> <span class="n">INCLUDE_SAFETY_ATTRIBUTES</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a> <span class="s2">&quot;outputOptions&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;MIME_TYPE&quot;</span><span class="p">,</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a> <span class="s2">&quot;compressionQuality&quot;</span><span class="p">:</span> <span class="n">COMPRESSION_QUALITY</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a> <span class="p">},</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a> <span class="s2">&quot;personGeneration&quot;</span><span class="p">:</span> <span class="s2">&quot;PERSON_SETTING&quot;</span><span class="p">,</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a> <span class="s2">&quot;safetySetting&quot;</span><span class="p">:</span> <span class="s2">&quot;SAFETY_SETTING&quot;</span><span class="p">,</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a> <span class="s2">&quot;seed&quot;</span><span class="p">:</span> <span class="n">SEED_NUMBER</span><span class="p">,</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a> <span class="s2">&quot;storageUri&quot;</span><span class="p">:</span> <span class="s2">&quot;OUTPUT_STORAGE_URI&quot;</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>ADD_WATERMARK: boolean. Optional. Whether to enable a watermark for generated images.
 Any image generated when the field is set to <code>true</code> contains a digital
 <a href="https://deepmind.google/technologies/synthid/">SynthID</a> that you can use to verify
 a watermarked image.
 If you omit this field, the default value of <code>true</code> is used; you must set the value
 to <code>false</code> to disable this feature. You can use the <code>seed</code> field to get
 deterministic output only when this field is set to <code>false</code>.</li>
<li>ASPECT_RATIO: string. Optional. A generation mode parameter that controls aspect
 ratio. Supported ratio values and their intended use:</li>
<li><code>1:1</code> (default, square)</li>
<li><code>3:4</code> (Ads, social media)</li>
<li><code>4:3</code> (TV, photography)</li>
<li><code>16:9</code> (landscape)</li>
<li><code>9:16</code> (portrait)</li>
<li>ENABLE_PROMPT_REWRITING: boolean. Optional. A parameter to use an LLM-based prompt
 rewriting feature to deliver higher quality images that better reflect the original
 prompt's intent. Disabling this feature may impact image quality and
 prompt adherence. Default value: <code>true</code>.</li>
<li>INCLUDE_RAI_REASON: boolean. Optional. Whether to enable the
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen#safety-categories">Responsible AI
 filtered reason code</a> in responses with blocked input or output. Default value:
 <code>false</code>.</li>
<li>INCLUDE_SAFETY_ATTRIBUTES: boolean. Optional. Whether to enable rounded
 Responsible AI scores for a list of safety attributes in responses for unfiltered input and
 output. Safety attribute categories: <code>"Death, Harm &amp; Tragedy"</code>,
 <code>"Firearms &amp; Weapons"</code>, <code>"Hate"</code>, <code>"Health"</code>,
 <code>"Illicit Drugs"</code>, <code>"Politics"</code>, <code>"Porn"</code>,
 <code>"Religion &amp; Belief"</code>, <code>"Toxic"</code>, <code>"Violence"</code>,
 <code>"Vulgarity"</code>, <code>"War &amp; Conflict"</code>. Default value: <code>false</code>.</li>
<li>MIME_TYPE: string. Optional. The MIME type of the content of the image. Available
 values:</li>
<li><code>image/jpeg</code></li>
<li><code>image/gif</code></li>
<li><code>image/png</code></li>
<li><code>image/webp</code></li>
<li><code>image/bmp</code></li>
<li><code>image/tiff</code></li>
<li><code>image/vnd.microsoft.icon</code></li>
<li>COMPRESSION_QUALITY: integer. Optional. Only applies to JPEG output
 files. The level of detail the model preserves for images generated in JPEG file format. Values:
 <code>0</code> to <code>100</code>, where a higher number means more compression. Default:
 <code>75</code>.</li>
<li>PERSON_SETTING: string. Optional. The safety setting that controls the type of
 people or face generation the model allows. Available values:</li>
<li><code>allow_adult</code> (default): Allow generation of adults only, except for celebrity
 generation. Celebrity generation is not allowed for any setting.</li>
<li><code>dont_allow</code>: Disable the inclusion of people or faces in generated images.</li>
<li>SAFETY_SETTING: string. Optional. A setting that controls safety filter thresholds
 for generated images. Available values:</li>
<li><code>block_low_and_above</code>: The highest safety threshold, resulting in the largest
 amount of
 generated images that are filtered. Previous value: <code>block_most</code>.</li>
<li><code>block_medium_and_above</code> (default): A medium safety threshold that balances
 filtering for
 potentially harmful and safe content. Previous value: <code>block_some</code>.</li>
<li><code>block_only_high</code>: A safety threshold that reduces the number of
 requests blocked
 due to safety filters. This setting might increase objectionable content generated by
 Imagen. Previous value: <code>block_few</code>.</li>
<li>SEED_NUMBER: integer. Optional. Any non-negative integer you provide to make output
 images deterministic. Providing the same seed number always results in the same output images. If
 the model you're using supports digital watermarking, you must set
 <code>"addWatermark": false</code> to use this field.
 Accepted integer values: <code>1</code> - <code>2147483647</code>.</li>
<li>OUTPUT_STORAGE_URI: string. Optional. The Cloud Storage bucket to store the output
 images. If not provided, base64-encoded image bytes are returned in the response. Sample value:
 <code>gs://image-bucket/output/</code>.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">MODEL_VERSION</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a> <span class="p">{</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT_PROMPT&quot;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a> <span class="p">}</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a> <span class="p">],</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a> <span class="p">}</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl">curl<a class="headerlink" href="#curl" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell">PowerShell<a class="headerlink" href="#powershell" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>The following sample response is for a request with
<code>"sampleCount": 2</code>. The response returns two prediction objects, with
the generated image bytes base64-encoded.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a> <span class="p">{</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span><span class="p">,</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a> <span class="p">},</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a> <span class="p">{</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a> <span class="p">}</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a> <span class="p">]</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>If you use a model that supports prompt enhancement, the response includes an additional
<code>prompt</code> field with the enhanced prompt used for generation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a> <span class="p">{</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;MIME_TYPE&quot;</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;ENHANCED_PROMPT_1&quot;</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES_1&quot;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a> <span class="p">},</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a> <span class="p">{</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;MIME_TYPE&quot;</span><span class="p">,</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;ENHANCED_PROMPT_2&quot;</span><span class="p">,</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES_2&quot;</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a> <span class="p">}</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a> <span class="p">]</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h3>
<p>Before trying this sample, follow the Python setup instructions in the
<a href="https://cloud.google.com/vertex-ai/docs/start/client-libraries">Vertex AI quickstart using
client libraries</a>.
For more information, see the
<a href="https://cloud.google.com/python/docs/reference/aiplatform/latest">Vertex AI Python API
reference documentation</a>.</p>
<p>To authenticate to Vertex AI, set up Application Default Credentials.
For more information, see
<a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up authentication for a local development environment</a>.</p>
<p>In this sample you call the <a href="https://cloud.google.com/python/docs/reference/aiplatform/latest/vertexai.preview.vision_models.ImageGenerationModel#vertexai_preview_vision_models_ImageGenerationModel_generate_images"><code>generate_images</code></a> method on the
<a href="https://cloud.google.com/python/docs/reference/aiplatform/latest/vertexai.preview.vision_models.ImageGenerationModel"><code>ImageGenerationModel</code></a> and save generated
images locally. You then can optionally use the <a href="https://cloud.google.com/python/docs/reference/aiplatform/latest/vertexai.preview.vision_models.Image#vertexai_preview_vision_models_Image_show"><code>show()</code></a>
method in a notebook to show you the generated images. For more information on
model versions and features, see <a href="#model-versions">model versions</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vertexai</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vertexai.preview.vision_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageGenerationModel</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c1"># TODO(developer): Update and un-comment below lines</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1"># PROJECT_ID = &quot;your-project-id&quot;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1"># output_file = &quot;input-image.png&quot;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1"># prompt = &quot;&quot; # The text prompt describing what you want to see.</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">vertexai</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;us-central1&quot;</span><span class="p">)</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="n">model</span> <span class="o">=</span> <span class="n">ImageGenerationModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;imagen-3.0-generate-002&quot;</span><span class="p">)</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="n">images</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">generate_images</span><span class="p">(</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a> <span class="c1"># Optional parameters</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a> <span class="n">number_of_images</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a> <span class="c1"># You can&#39;t use a seed value and watermark at the same time.</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a> <span class="c1"># add_watermark=False,</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a> <span class="c1"># seed=100,</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a> <span class="n">aspect_ratio</span><span class="o">=</span><span class="s2">&quot;1:1&quot;</span><span class="p">,</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a> <span class="n">safety_filter_level</span><span class="o">=</span><span class="s2">&quot;block_some&quot;</span><span class="p">,</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a> <span class="n">person_generation</span><span class="o">=</span><span class="s2">&quot;allow_adult&quot;</span><span class="p">,</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="p">)</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span> <span class="n">include_generation_parameters</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="c1"># Optional. View the generated image in a notebook.</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="c1"># images[0].show()</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created output image using </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">)</span><span class="si">}</span><span class="s2"> bytes&quot;</span><span class="p">)</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="c1"># Example response:</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a><span class="c1"># Created output image using 1234567 bytes</span>
</span></code></pre></div>
<h3 id="java">Java<a class="headerlink" href="#java" title="Permanent link">&para;</a></h3>
<p>Before trying this sample, follow the Java setup instructions in the
<a href="https://cloud.google.com/vertex-ai/docs/start/client-libraries">Vertex AI quickstart using
client libraries</a>.
For more information, see the
<a href="/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1">Vertex AI Java API
reference documentation</a>.</p>
<p>To authenticate to Vertex AI, set up Application Default Credentials.
For more information, see
<a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up authentication for a local development environment</a>.</p>
<p>In this sample, you specify the <code>imagen-3.0-generate-001</code> model as part of
an <a href="/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1.EndpointName"><code>EndpointName</code></a>. The <a href="/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1.EndpointName"><code>EndpointName</code></a>
is passed to the <a href="/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1.PredictionServiceClient#com_google_cloud_aiplatform_v1_PredictionServiceClient_predict_com_google_cloud_aiplatform_v1_EndpointName_java_util_List_com_google_protobuf_Value__com_google_protobuf_Value_"><code>predict</code></a> method which is called on a
<a href="/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1.PredictionServiceClient"><code>PredictionServiceClient</code></a>. The service generates
images which are then saved locally. For more information on model versions and
features, see <a href="#model-versions">model versions</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.api.gax.rpc.ApiException</span><span class="p">;</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.cloud.aiplatform.v1.EndpointName</span><span class="p">;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.cloud.aiplatform.v1.PredictResponse</span><span class="p">;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.cloud.aiplatform.v1.PredictionServiceClient</span><span class="p">;</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.cloud.aiplatform.v1.PredictionServiceSettings</span><span class="p">;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.gson.Gson</span><span class="p">;</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.protobuf.InvalidProtocolBufferException</span><span class="p">;</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.protobuf.Value</span><span class="p">;</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.google.protobuf.util.JsonFormat</span><span class="p">;</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.nio.file.Files</span><span class="p">;</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.nio.file.Path</span><span class="p">;</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Base64</span><span class="p">;</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="n">public</span> <span class="k">class</span><span class="w"> </span><span class="nc">GenerateImageSample</span> <span class="p">{</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a> <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="n">throws</span> <span class="n">IOException</span> <span class="p">{</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a> <span class="o">//</span> <span class="n">TODO</span><span class="p">(</span><span class="n">developer</span><span class="p">):</span> <span class="n">Replace</span> <span class="n">these</span> <span class="n">variables</span> <span class="n">before</span> <span class="n">running</span> <span class="n">the</span> <span class="n">sample</span><span class="o">.</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a> <span class="n">String</span> <span class="n">projectId</span> <span class="o">=</span> <span class="s2">&quot;my-project-id&quot;</span><span class="p">;</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a> <span class="n">String</span> <span class="n">location</span> <span class="o">=</span> <span class="s2">&quot;us-central1&quot;</span><span class="p">;</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a> <span class="n">String</span> <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="o">//</span> <span class="n">The</span> <span class="n">text</span> <span class="n">prompt</span> <span class="n">describing</span> <span class="n">what</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">see</span><span class="o">.</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a> <span class="n">generateImage</span><span class="p">(</span><span class="n">projectId</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">prompt</span><span class="p">);</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a> <span class="p">}</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a> <span class="o">//</span> <span class="n">Generate</span> <span class="n">an</span> <span class="n">image</span> <span class="n">using</span> <span class="n">a</span> <span class="n">text</span> <span class="n">prompt</span> <span class="n">using</span> <span class="n">an</span> <span class="n">Imagen</span> <span class="n">model</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a> <span class="n">public</span> <span class="n">static</span> <span class="n">PredictResponse</span> <span class="n">generateImage</span><span class="p">(</span><span class="n">String</span> <span class="n">projectId</span><span class="p">,</span> <span class="n">String</span> <span class="n">location</span><span class="p">,</span> <span class="n">String</span> <span class="n">prompt</span><span class="p">)</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a> <span class="n">throws</span> <span class="n">ApiException</span><span class="p">,</span> <span class="n">IOException</span> <span class="p">{</span>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a> <span class="n">final</span> <span class="n">String</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-aiplatform.googleapis.com:443&quot;</span><span class="p">,</span> <span class="n">location</span><span class="p">);</span>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a> <span class="n">PredictionServiceSettings</span> <span class="n">predictionServiceSettings</span> <span class="o">=</span>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a> <span class="n">PredictionServiceSettings</span><span class="o">.</span><span class="n">newBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">setEndpoint</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span><span class="o">.</span><span class="n">build</span><span class="p">();</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a> <span class="o">//</span> <span class="n">Initialize</span> <span class="n">client</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">send</span> <span class="n">requests</span><span class="o">.</span> <span class="n">This</span> <span class="n">client</span> <span class="n">only</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">be</span> <span class="n">created</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a> <span class="o">//</span> <span class="n">once</span><span class="p">,</span> <span class="ow">and</span> <span class="n">can</span> <span class="n">be</span> <span class="n">reused</span> <span class="k">for</span> <span class="n">multiple</span> <span class="n">requests</span><span class="o">.</span>
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a> <span class="k">try</span> <span class="p">(</span><span class="n">PredictionServiceClient</span> <span class="n">predictionServiceClient</span> <span class="o">=</span>
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a> <span class="n">PredictionServiceClient</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">predictionServiceSettings</span><span class="p">))</span> <span class="p">{</span>
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a> <span class="n">final</span> <span class="n">EndpointName</span> <span class="n">endpointName</span> <span class="o">=</span>
</span><span id="__span-15-42"><a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a> <span class="n">EndpointName</span><span class="o">.</span><span class="n">ofProjectLocationPublisherModelName</span><span class="p">(</span>
</span><span id="__span-15-43"><a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a> <span class="n">projectId</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="s2">&quot;google&quot;</span><span class="p">,</span> <span class="s2">&quot;imagen-3.0-generate-001&quot;</span><span class="p">);</span>
</span><span id="__span-15-44"><a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>
</span><span id="__span-15-45"><a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">instancesMap</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="__span-15-46"><a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a> <span class="n">instancesMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="n">prompt</span><span class="p">);</span>
</span><span id="__span-15-47"><a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a> <span class="n">Value</span> <span class="n">instances</span> <span class="o">=</span> <span class="n">mapToValue</span><span class="p">(</span><span class="n">instancesMap</span><span class="p">);</span>
</span><span id="__span-15-48"><a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a>
</span><span id="__span-15-49"><a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">paramsMap</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="__span-15-50"><a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;sampleCount&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span id="__span-15-51"><a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a> <span class="o">//</span> <span class="n">You</span> <span class="n">can</span><span class="s1">&#39;t use a seed value and watermark at the same time.</span>
</span><span id="__span-15-52"><a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a> <span class="o">//</span> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;seed&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</span><span id="__span-15-53"><a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a> <span class="o">//</span> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;addWatermark&quot;</span><span class="p">,</span> <span class="n">false</span><span class="p">);</span>
</span><span id="__span-15-54"><a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;aspectRatio&quot;</span><span class="p">,</span> <span class="s2">&quot;1:1&quot;</span><span class="p">);</span>
</span><span id="__span-15-55"><a id="__codelineno-15-55" name="__codelineno-15-55" href="#__codelineno-15-55"></a> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;safetyFilterLevel&quot;</span><span class="p">,</span> <span class="s2">&quot;block_some&quot;</span><span class="p">);</span>
</span><span id="__span-15-56"><a id="__codelineno-15-56" name="__codelineno-15-56" href="#__codelineno-15-56"></a> <span class="n">paramsMap</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;personGeneration&quot;</span><span class="p">,</span> <span class="s2">&quot;allow_adult&quot;</span><span class="p">);</span>
</span><span id="__span-15-57"><a id="__codelineno-15-57" name="__codelineno-15-57" href="#__codelineno-15-57"></a> <span class="n">Value</span> <span class="n">parameters</span> <span class="o">=</span> <span class="n">mapToValue</span><span class="p">(</span><span class="n">paramsMap</span><span class="p">);</span>
</span><span id="__span-15-58"><a id="__codelineno-15-58" name="__codelineno-15-58" href="#__codelineno-15-58"></a>
</span><span id="__span-15-59"><a id="__codelineno-15-59" name="__codelineno-15-59" href="#__codelineno-15-59"></a> <span class="n">PredictResponse</span> <span class="n">predictResponse</span> <span class="o">=</span>
</span><span id="__span-15-60"><a id="__codelineno-15-60" name="__codelineno-15-60" href="#__codelineno-15-60"></a> <span class="n">predictionServiceClient</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
</span><span id="__span-15-61"><a id="__codelineno-15-61" name="__codelineno-15-61" href="#__codelineno-15-61"></a> <span class="n">endpointName</span><span class="p">,</span> <span class="n">Collections</span><span class="o">.</span><span class="n">singletonList</span><span class="p">(</span><span class="n">instances</span><span class="p">),</span> <span class="n">parameters</span><span class="p">);</span>
</span><span id="__span-15-62"><a id="__codelineno-15-62" name="__codelineno-15-62" href="#__codelineno-15-62"></a>
</span><span id="__span-15-63"><a id="__codelineno-15-63" name="__codelineno-15-63" href="#__codelineno-15-63"></a> <span class="k">for</span> <span class="p">(</span><span class="n">Value</span> <span class="n">prediction</span> <span class="p">:</span> <span class="n">predictResponse</span><span class="o">.</span><span class="n">getPredictionsList</span><span class="p">())</span> <span class="p">{</span>
</span><span id="__span-15-64"><a id="__codelineno-15-64" name="__codelineno-15-64" href="#__codelineno-15-64"></a> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Value</span><span class="o">&gt;</span> <span class="n">fieldsMap</span> <span class="o">=</span> <span class="n">prediction</span><span class="o">.</span><span class="n">getStructValue</span><span class="p">()</span><span class="o">.</span><span class="n">getFieldsMap</span><span class="p">();</span>
</span><span id="__span-15-65"><a id="__codelineno-15-65" name="__codelineno-15-65" href="#__codelineno-15-65"></a> <span class="k">if</span> <span class="p">(</span><span class="n">fieldsMap</span><span class="o">.</span><span class="n">containsKey</span><span class="p">(</span><span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">))</span> <span class="p">{</span>
</span><span id="__span-15-66"><a id="__codelineno-15-66" name="__codelineno-15-66" href="#__codelineno-15-66"></a> <span class="n">String</span> <span class="n">bytesBase64Encoded</span> <span class="o">=</span> <span class="n">fieldsMap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">getStringValue</span><span class="p">();</span>
</span><span id="__span-15-67"><a id="__codelineno-15-67" name="__codelineno-15-67" href="#__codelineno-15-67"></a> <span class="n">Path</span> <span class="n">tmpPath</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="n">createTempFile</span><span class="p">(</span><span class="s2">&quot;imagen-&quot;</span><span class="p">,</span> <span class="s2">&quot;.png&quot;</span><span class="p">);</span>
</span><span id="__span-15-68"><a id="__codelineno-15-68" name="__codelineno-15-68" href="#__codelineno-15-68"></a> <span class="n">Files</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tmpPath</span><span class="p">,</span> <span class="n">Base64</span><span class="o">.</span><span class="n">getDecoder</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">bytesBase64Encoded</span><span class="p">));</span>
</span><span id="__span-15-69"><a id="__codelineno-15-69" name="__codelineno-15-69" href="#__codelineno-15-69"></a> <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Image file written to: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tmpPath</span><span class="o">.</span><span class="n">toUri</span><span class="p">());</span>
</span><span id="__span-15-70"><a id="__codelineno-15-70" name="__codelineno-15-70" href="#__codelineno-15-70"></a> <span class="p">}</span>
</span><span id="__span-15-71"><a id="__codelineno-15-71" name="__codelineno-15-71" href="#__codelineno-15-71"></a> <span class="p">}</span>
</span><span id="__span-15-72"><a id="__codelineno-15-72" name="__codelineno-15-72" href="#__codelineno-15-72"></a> <span class="k">return</span> <span class="n">predictResponse</span><span class="p">;</span>
</span><span id="__span-15-73"><a id="__codelineno-15-73" name="__codelineno-15-73" href="#__codelineno-15-73"></a> <span class="p">}</span>
</span><span id="__span-15-74"><a id="__codelineno-15-74" name="__codelineno-15-74" href="#__codelineno-15-74"></a> <span class="p">}</span>
</span><span id="__span-15-75"><a id="__codelineno-15-75" name="__codelineno-15-75" href="#__codelineno-15-75"></a>
</span><span id="__span-15-76"><a id="__codelineno-15-76" name="__codelineno-15-76" href="#__codelineno-15-76"></a> <span class="n">private</span> <span class="n">static</span> <span class="n">Value</span> <span class="n">mapToValue</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="nb">map</span><span class="p">)</span> <span class="n">throws</span> <span class="n">InvalidProtocolBufferException</span> <span class="p">{</span>
</span><span id="__span-15-77"><a id="__codelineno-15-77" name="__codelineno-15-77" href="#__codelineno-15-77"></a> <span class="n">Gson</span> <span class="n">gson</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Gson</span><span class="p">();</span>
</span><span id="__span-15-78"><a id="__codelineno-15-78" name="__codelineno-15-78" href="#__codelineno-15-78"></a> <span class="n">String</span> <span class="n">json</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="n">toJson</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</span><span id="__span-15-79"><a id="__codelineno-15-79" name="__codelineno-15-79" href="#__codelineno-15-79"></a> <span class="n">Value</span><span class="o">.</span><span class="n">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="n">Value</span><span class="o">.</span><span class="n">newBuilder</span><span class="p">();</span>
</span><span id="__span-15-80"><a id="__codelineno-15-80" name="__codelineno-15-80" href="#__codelineno-15-80"></a> <span class="n">JsonFormat</span><span class="o">.</span><span class="n">parser</span><span class="p">()</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">builder</span><span class="p">);</span>
</span><span id="__span-15-81"><a id="__codelineno-15-81" name="__codelineno-15-81" href="#__codelineno-15-81"></a> <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">();</span>
</span><span id="__span-15-82"><a id="__codelineno-15-82" name="__codelineno-15-82" href="#__codelineno-15-82"></a> <span class="p">}</span>
</span><span id="__span-15-83"><a id="__codelineno-15-83" name="__codelineno-15-83" href="#__codelineno-15-83"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="nodejs">Node.js<a class="headerlink" href="#nodejs" title="Permanent link">&para;</a></h3>
<p>Before trying this sample, follow the Node.js setup instructions in the
<a href="https://cloud.google.com/vertex-ai/docs/start/client-libraries">Vertex AI quickstart using
client libraries</a>.
For more information, see the
<a href="/nodejs/docs/reference/aiplatform/latest">Vertex AI Node.js API
reference documentation</a>.</p>
<p>To authenticate to Vertex AI, set up Application Default Credentials.
For more information, see
<a href="https://cloud.google.com/docs/authentication/set-up-adc-local-dev-environment">Set up authentication for a local development environment</a>.</p>
<p>In this sample, you call the <a href="/nodejs/docs/reference/aiplatform/latest/aiplatform/v1.predictionserviceclient#_google_cloud_aiplatform_v1_PredictionServiceClient_predict_member_1_"><code>predict</code></a>
method on a
<a href="/nodejs/docs/reference/aiplatform/latest/aiplatform/v1.predictionserviceclient"><code>PredictionServiceClient</code></a>.
The service generates images which are
then saved locally. For more information on model versions and features, see
<a href="#model-versions">model versions</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">/**</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a> <span class="o">*</span> <span class="n">TODO</span><span class="p">(</span><span class="n">developer</span><span class="p">):</span> <span class="n">Update</span> <span class="n">these</span> <span class="n">variables</span> <span class="n">before</span> <span class="n">running</span> <span class="n">the</span> <span class="n">sample</span><span class="o">.</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a> <span class="o">*/</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">const</span> <span class="n">projectId</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">CAIP_PROJECT_ID</span><span class="p">;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="n">const</span> <span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;us-central1&#39;</span><span class="p">;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="n">const</span> <span class="n">prompt</span> <span class="o">=</span> <span class="s1">&#39;a dog reading a newspaper&#39;</span><span class="p">;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="n">const</span> <span class="n">aiplatform</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;@google-cloud/aiplatform&#39;</span><span class="p">);</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="o">//</span> <span class="n">Imports</span> <span class="n">the</span> <span class="n">Google</span> <span class="n">Cloud</span> <span class="n">Prediction</span> <span class="n">Service</span> <span class="n">Client</span> <span class="n">library</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="n">const</span> <span class="p">{</span><span class="n">PredictionServiceClient</span><span class="p">}</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">v1</span><span class="p">;</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">helper</span> <span class="n">module</span> <span class="k">for</span> <span class="n">converting</span> <span class="n">arbitrary</span> <span class="n">protobuf</span><span class="o">.</span><span class="n">Value</span> <span class="n">objects</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="n">const</span> <span class="p">{</span><span class="n">helpers</span><span class="p">}</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="p">;</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="o">//</span> <span class="n">Specifies</span> <span class="n">the</span> <span class="n">location</span> <span class="n">of</span> <span class="n">the</span> <span class="n">api</span> <span class="n">endpoint</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="n">const</span> <span class="n">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a> <span class="n">apiEndpoint</span><span class="p">:</span> <span class="err">`$</span><span class="p">{</span><span class="n">location</span><span class="p">}</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="err">`</span><span class="p">,</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="p">};</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="o">//</span> <span class="n">Instantiates</span> <span class="n">a</span> <span class="n">client</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="n">const</span> <span class="n">predictionServiceClient</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PredictionServiceClient</span><span class="p">(</span><span class="n">clientOptions</span><span class="p">);</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="k">async</span> <span class="n">function</span> <span class="n">generateImage</span><span class="p">()</span> <span class="p">{</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a> <span class="n">const</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a> <span class="n">const</span> <span class="n">util</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;util&#39;</span><span class="p">);</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a> <span class="o">//</span> <span class="n">Configure</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">resource</span>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a> <span class="n">const</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="err">`</span><span class="n">projects</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">projectId</span><span class="p">}</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">location</span><span class="p">}</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">imagen</span><span class="o">-</span><span class="mf">3.0</span><span class="o">-</span><span class="n">generate</span><span class="o">-</span><span class="mi">001</span><span class="err">`</span><span class="p">;</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a> <span class="n">const</span> <span class="n">promptText</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a> <span class="n">prompt</span><span class="p">:</span> <span class="n">prompt</span><span class="p">,</span> <span class="o">//</span> <span class="n">The</span> <span class="n">text</span> <span class="n">prompt</span> <span class="n">describing</span> <span class="n">what</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">see</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a> <span class="p">};</span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a> <span class="n">const</span> <span class="n">instanceValue</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">promptText</span><span class="p">);</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a> <span class="n">const</span> <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span><span class="n">instanceValue</span><span class="p">];</span>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a> <span class="n">const</span> <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a> <span class="n">sampleCount</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a> <span class="o">//</span> <span class="n">You</span> <span class="n">can</span><span class="s1">&#39;t use a seed value and watermark at the same time.</span>
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a> <span class="o">//</span> <span class="n">seed</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a> <span class="o">//</span> <span class="n">addWatermark</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a> <span class="n">aspectRatio</span><span class="p">:</span> <span class="s1">&#39;1:1&#39;</span><span class="p">,</span>
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a> <span class="n">safetyFilterLevel</span><span class="p">:</span> <span class="s1">&#39;block_some&#39;</span><span class="p">,</span>
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a> <span class="n">personGeneration</span><span class="p">:</span> <span class="s1">&#39;allow_adult&#39;</span><span class="p">,</span>
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a> <span class="p">};</span>
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a> <span class="n">const</span> <span class="n">parameters</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">parameter</span><span class="p">);</span>
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a>
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a> <span class="n">const</span> <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a> <span class="n">endpoint</span><span class="p">,</span>
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a> <span class="n">instances</span><span class="p">,</span>
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a> <span class="n">parameters</span><span class="p">,</span>
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a> <span class="p">};</span>
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a>
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a> <span class="o">//</span> <span class="n">Predict</span> <span class="n">request</span>
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a> <span class="n">const</span> <span class="p">[</span><span class="n">response</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="n">predictionServiceClient</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a> <span class="n">const</span> <span class="n">predictions</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">;</span>
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a> <span class="k">if</span> <span class="p">(</span><span class="n">predictions</span><span class="o">.</span><span class="n">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a> <span class="s1">&#39;No image was generated. Check the request parameters and prompt.&#39;</span>
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a> <span class="p">);</span>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a> <span class="n">let</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a> <span class="k">for</span> <span class="p">(</span><span class="n">const</span> <span class="n">prediction</span> <span class="n">of</span> <span class="n">predictions</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-16-63"><a id="__codelineno-16-63" name="__codelineno-16-63" href="#__codelineno-16-63"></a> <span class="n">const</span> <span class="n">buff</span> <span class="o">=</span> <span class="n">Buffer</span><span class="o">.</span><span class="n">from</span><span class="p">(</span>
</span><span id="__span-16-64"><a id="__codelineno-16-64" name="__codelineno-16-64" href="#__codelineno-16-64"></a> <span class="n">prediction</span><span class="o">.</span><span class="n">structValue</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">bytesBase64Encoded</span><span class="o">.</span><span class="n">stringValue</span><span class="p">,</span>
</span><span id="__span-16-65"><a id="__codelineno-16-65" name="__codelineno-16-65" href="#__codelineno-16-65"></a> <span class="s1">&#39;base64&#39;</span>
</span><span id="__span-16-66"><a id="__codelineno-16-66" name="__codelineno-16-66" href="#__codelineno-16-66"></a> <span class="p">);</span>
</span><span id="__span-16-67"><a id="__codelineno-16-67" name="__codelineno-16-67" href="#__codelineno-16-67"></a> <span class="o">//</span> <span class="n">Write</span> <span class="n">image</span> <span class="n">content</span> <span class="n">to</span> <span class="n">the</span> <span class="n">output</span> <span class="n">file</span>
</span><span id="__span-16-68"><a id="__codelineno-16-68" name="__codelineno-16-68" href="#__codelineno-16-68"></a> <span class="n">const</span> <span class="n">writeFile</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">promisify</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">writeFile</span><span class="p">);</span>
</span><span id="__span-16-69"><a id="__codelineno-16-69" name="__codelineno-16-69" href="#__codelineno-16-69"></a> <span class="n">const</span> <span class="n">filename</span> <span class="o">=</span> <span class="err">`</span><span class="n">output</span><span class="err">$</span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="o">.</span><span class="n">png</span><span class="err">`</span><span class="p">;</span>
</span><span id="__span-16-70"><a id="__codelineno-16-70" name="__codelineno-16-70" href="#__codelineno-16-70"></a> <span class="k">await</span> <span class="n">writeFile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">buff</span><span class="p">);</span>
</span><span id="__span-16-71"><a id="__codelineno-16-71" name="__codelineno-16-71" href="#__codelineno-16-71"></a> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Saved</span> <span class="n">image</span> <span class="err">$</span><span class="p">{</span><span class="n">filename</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
</span><span id="__span-16-72"><a id="__codelineno-16-72" name="__codelineno-16-72" href="#__codelineno-16-72"></a> <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-16-73"><a id="__codelineno-16-73" name="__codelineno-16-73" href="#__codelineno-16-73"></a> <span class="p">}</span>
</span><span id="__span-16-74"><a id="__codelineno-16-74" name="__codelineno-16-74" href="#__codelineno-16-74"></a> <span class="p">}</span>
</span><span id="__span-16-75"><a id="__codelineno-16-75" name="__codelineno-16-75" href="#__codelineno-16-75"></a><span class="p">}</span>
</span><span id="__span-16-76"><a id="__codelineno-16-76" name="__codelineno-16-76" href="#__codelineno-16-76"></a><span class="k">await</span> <span class="n">generateImage</span><span class="p">();</span>
</span></code></pre></div>
<h2 id="use-parameters-to-generate-images">Use parameters to generate images<a class="headerlink" href="#use-parameters-to-generate-images" title="Permanent link">&para;</a></h2>
<p>When you generate images there are several standard and advanced parameters you
can set depending on your use case.</p>
<h3 id="add-or-verify-an-image-watermark">Add or verify an image watermark<a class="headerlink" href="#add-or-verify-an-image-watermark" title="Permanent link">&para;</a></h3>
<p>By default, a digital watermark is added to any images generated by a
<a href="#model-versions">model version</a> that supports watermark generation. This
features adds a non-visible digital watermarkcalled a
<a href="https://deepmind.google/technologies/synthid/">SynthID</a>to images. You can then verify if an image
contains a digital watermark or not.</p>
<h4 id="generate-watermarked-images">Generate watermarked images<a class="headerlink" href="#generate-watermarked-images" title="Permanent link">&para;</a></h4>
<p>Use the following samples to generate images with a digital watermark.</p>
<h3 id="console_1">Console<a class="headerlink" href="#console_1" title="Permanent link">&para;</a></h3>
<p>Model versions 006 and greater automatically add a digital watermark when
you <a href="#text-image-gen">Generate images</a>. You can't disable digital watermark
for image generation using the Google Cloud console.</p>
<h3 id="rest_1">REST<a class="headerlink" href="#rest_1" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>MODEL_VERSION: The <code>imagegeneration</code> model version to use. Available
 values:</li>
<li><code>imagen-3.0-generate-002</code> (newest model)</li>
<li><code>imagen-3.0-generate-001</code></li>
<li><code>imagen-3.0-fast-generate-001</code> - Low latency model version.</li>
<li><code>imagegeneration@006</code></li>
</ul>
<p>For more information about model versions and features, see <a href="#model-versions">model
 versions</a>.
- LOCATION: Your project's region. For example,
 <code>us-central1</code>, <code>europe-west2</code>, or <code>asia-northeast3</code>. For a list
 of available regions, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.
- TEXT_PROMPT: The text prompt that guides what images the model
 generates. This field is required for both generation and editing.
- IMAGE_COUNT: The number of generated images.
 Accepted integer values: 1-8 (<code>imagegeneration@002</code>), 1-4 (all other model versions).
 Default value: 4.
- ADD_WATERMARK: boolean. Optional. Whether to enable a watermark for generated images.
 Any image generated when the field is set to <code>true</code> contains a digital
 <a href="https://deepmind.google/technologies/synthid/">SynthID</a> that you can use to verify
 a watermarked image.
 If you omit this field, the default value of <code>true</code> is used; you must set the value
 to <code>false</code> to disable this feature. You can use the <code>seed</code> field to get
 deterministic output only when this field is set to <code>false</code>.</p>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">MODEL_VERSION</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">{</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a> <span class="p">{</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT_PROMPT&quot;</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a> <span class="p">}</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a> <span class="p">],</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a> <span class="s2">&quot;addWatermark&quot;</span><span class="p">:</span> <span class="n">ADD_WATERMARK</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a> <span class="p">}</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_1">curl<a class="headerlink" href="#curl_1" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell_1">PowerShell<a class="headerlink" href="#powershell_1" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>The following sample response is for a request with
<code>"sampleCount": 2</code>. The response returns two prediction objects, with
the generated image bytes base64-encoded. The digital watermark is automatically added to images,
so the response is the same as a non-watermarked response.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="p">{</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a> <span class="p">{</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a> <span class="p">},</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a> <span class="p">{</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span><span class="p">,</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a> <span class="p">}</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a> <span class="p">]</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="vertex-ai-sdk-for-python">Vertex AI SDK for Python<a class="headerlink" href="#vertex-ai-sdk-for-python" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">vertexai</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">vertexai.preview.vision_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageGenerationModel</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1"># TODO(developer): Update and un-comment below lines</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="c1"># PROJECT_ID = &quot;your-project-id&quot;</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="c1"># output_file = &quot;input-image.png&quot;</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c1"># prompt = &quot;&quot; # The text prompt describing what you want to see.</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="n">vertexai</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">PROJECT_ID</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;us-central1&quot;</span><span class="p">)</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="n">model</span> <span class="o">=</span> <span class="n">ImageGenerationModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;imagen-3.0-generate-002&quot;</span><span class="p">)</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="n">images</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">generate_images</span><span class="p">(</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a> <span class="c1"># Optional parameters</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a> <span class="n">number_of_images</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a> <span class="c1"># You can&#39;t use a seed value and watermark at the same time.</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a> <span class="c1"># add_watermark=False,</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a> <span class="c1"># seed=100,</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a> <span class="n">aspect_ratio</span><span class="o">=</span><span class="s2">&quot;1:1&quot;</span><span class="p">,</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a> <span class="n">safety_filter_level</span><span class="o">=</span><span class="s2">&quot;block_some&quot;</span><span class="p">,</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a> <span class="n">person_generation</span><span class="o">=</span><span class="s2">&quot;allow_adult&quot;</span><span class="p">,</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="p">)</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span> <span class="n">include_generation_parameters</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a><span class="c1"># Optional. View the generated image in a notebook.</span>
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a><span class="c1"># images[0].show()</span>
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a>
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created output image using </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">)</span><span class="si">}</span><span class="s2"> bytes&quot;</span><span class="p">)</span>
</span><span id="__span-22-32"><a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a><span class="c1"># Example response:</span>
</span><span id="__span-22-33"><a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a><span class="c1"># Created output image using 1234567 bytes</span>
</span></code></pre></div>
<h3 id="nodejs_1">Node.js<a class="headerlink" href="#nodejs_1" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="o">/**</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a> <span class="o">*</span> <span class="n">TODO</span><span class="p">(</span><span class="n">developer</span><span class="p">):</span> <span class="n">Update</span> <span class="n">these</span> <span class="n">variables</span> <span class="n">before</span> <span class="n">running</span> <span class="n">the</span> <span class="n">sample</span><span class="o">.</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a> <span class="o">*/</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="n">const</span> <span class="n">projectId</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">CAIP_PROJECT_ID</span><span class="p">;</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="n">const</span> <span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;us-central1&#39;</span><span class="p">;</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="n">const</span> <span class="n">prompt</span> <span class="o">=</span> <span class="s1">&#39;a dog reading a newspaper&#39;</span><span class="p">;</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="n">const</span> <span class="n">aiplatform</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;@google-cloud/aiplatform&#39;</span><span class="p">);</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="o">//</span> <span class="n">Imports</span> <span class="n">the</span> <span class="n">Google</span> <span class="n">Cloud</span> <span class="n">Prediction</span> <span class="n">Service</span> <span class="n">Client</span> <span class="n">library</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="n">const</span> <span class="p">{</span><span class="n">PredictionServiceClient</span><span class="p">}</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">v1</span><span class="p">;</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">helper</span> <span class="n">module</span> <span class="k">for</span> <span class="n">converting</span> <span class="n">arbitrary</span> <span class="n">protobuf</span><span class="o">.</span><span class="n">Value</span> <span class="n">objects</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="n">const</span> <span class="p">{</span><span class="n">helpers</span><span class="p">}</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="p">;</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="o">//</span> <span class="n">Specifies</span> <span class="n">the</span> <span class="n">location</span> <span class="n">of</span> <span class="n">the</span> <span class="n">api</span> <span class="n">endpoint</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="n">const</span> <span class="n">clientOptions</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a> <span class="n">apiEndpoint</span><span class="p">:</span> <span class="err">`$</span><span class="p">{</span><span class="n">location</span><span class="p">}</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="err">`</span><span class="p">,</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="p">};</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="o">//</span> <span class="n">Instantiates</span> <span class="n">a</span> <span class="n">client</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="n">const</span> <span class="n">predictionServiceClient</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PredictionServiceClient</span><span class="p">(</span><span class="n">clientOptions</span><span class="p">);</span>
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="k">async</span> <span class="n">function</span> <span class="n">generateImage</span><span class="p">()</span> <span class="p">{</span>
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a> <span class="n">const</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a> <span class="n">const</span> <span class="n">util</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;util&#39;</span><span class="p">);</span>
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a> <span class="o">//</span> <span class="n">Configure</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">resource</span>
</span><span id="__span-23-28"><a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a> <span class="n">const</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="err">`</span><span class="n">projects</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">projectId</span><span class="p">}</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">location</span><span class="p">}</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">imagen</span><span class="o">-</span><span class="mf">3.0</span><span class="o">-</span><span class="n">generate</span><span class="o">-</span><span class="mi">001</span><span class="err">`</span><span class="p">;</span>
</span><span id="__span-23-29"><a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a>
</span><span id="__span-23-30"><a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a> <span class="n">const</span> <span class="n">promptText</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-31"><a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a> <span class="n">prompt</span><span class="p">:</span> <span class="n">prompt</span><span class="p">,</span> <span class="o">//</span> <span class="n">The</span> <span class="n">text</span> <span class="n">prompt</span> <span class="n">describing</span> <span class="n">what</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">see</span>
</span><span id="__span-23-32"><a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a> <span class="p">};</span>
</span><span id="__span-23-33"><a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a> <span class="n">const</span> <span class="n">instanceValue</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">promptText</span><span class="p">);</span>
</span><span id="__span-23-34"><a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a> <span class="n">const</span> <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span><span class="n">instanceValue</span><span class="p">];</span>
</span><span id="__span-23-35"><a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a>
</span><span id="__span-23-36"><a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a> <span class="n">const</span> <span class="n">parameter</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-37"><a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a> <span class="n">sampleCount</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-23-38"><a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a> <span class="o">//</span> <span class="n">You</span> <span class="n">can</span><span class="s1">&#39;t use a seed value and watermark at the same time.</span>
</span><span id="__span-23-39"><a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a> <span class="o">//</span> <span class="n">seed</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="__span-23-40"><a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a> <span class="o">//</span> <span class="n">addWatermark</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
</span><span id="__span-23-41"><a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a> <span class="n">aspectRatio</span><span class="p">:</span> <span class="s1">&#39;1:1&#39;</span><span class="p">,</span>
</span><span id="__span-23-42"><a id="__codelineno-23-42" name="__codelineno-23-42" href="#__codelineno-23-42"></a> <span class="n">safetyFilterLevel</span><span class="p">:</span> <span class="s1">&#39;block_some&#39;</span><span class="p">,</span>
</span><span id="__span-23-43"><a id="__codelineno-23-43" name="__codelineno-23-43" href="#__codelineno-23-43"></a> <span class="n">personGeneration</span><span class="p">:</span> <span class="s1">&#39;allow_adult&#39;</span><span class="p">,</span>
</span><span id="__span-23-44"><a id="__codelineno-23-44" name="__codelineno-23-44" href="#__codelineno-23-44"></a> <span class="p">};</span>
</span><span id="__span-23-45"><a id="__codelineno-23-45" name="__codelineno-23-45" href="#__codelineno-23-45"></a> <span class="n">const</span> <span class="n">parameters</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">parameter</span><span class="p">);</span>
</span><span id="__span-23-46"><a id="__codelineno-23-46" name="__codelineno-23-46" href="#__codelineno-23-46"></a>
</span><span id="__span-23-47"><a id="__codelineno-23-47" name="__codelineno-23-47" href="#__codelineno-23-47"></a> <span class="n">const</span> <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-48"><a id="__codelineno-23-48" name="__codelineno-23-48" href="#__codelineno-23-48"></a> <span class="n">endpoint</span><span class="p">,</span>
</span><span id="__span-23-49"><a id="__codelineno-23-49" name="__codelineno-23-49" href="#__codelineno-23-49"></a> <span class="n">instances</span><span class="p">,</span>
</span><span id="__span-23-50"><a id="__codelineno-23-50" name="__codelineno-23-50" href="#__codelineno-23-50"></a> <span class="n">parameters</span><span class="p">,</span>
</span><span id="__span-23-51"><a id="__codelineno-23-51" name="__codelineno-23-51" href="#__codelineno-23-51"></a> <span class="p">};</span>
</span><span id="__span-23-52"><a id="__codelineno-23-52" name="__codelineno-23-52" href="#__codelineno-23-52"></a>
</span><span id="__span-23-53"><a id="__codelineno-23-53" name="__codelineno-23-53" href="#__codelineno-23-53"></a> <span class="o">//</span> <span class="n">Predict</span> <span class="n">request</span>
</span><span id="__span-23-54"><a id="__codelineno-23-54" name="__codelineno-23-54" href="#__codelineno-23-54"></a> <span class="n">const</span> <span class="p">[</span><span class="n">response</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="n">predictionServiceClient</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</span><span id="__span-23-55"><a id="__codelineno-23-55" name="__codelineno-23-55" href="#__codelineno-23-55"></a> <span class="n">const</span> <span class="n">predictions</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">;</span>
</span><span id="__span-23-56"><a id="__codelineno-23-56" name="__codelineno-23-56" href="#__codelineno-23-56"></a> <span class="k">if</span> <span class="p">(</span><span class="n">predictions</span><span class="o">.</span><span class="n">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-23-57"><a id="__codelineno-23-57" name="__codelineno-23-57" href="#__codelineno-23-57"></a> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
</span><span id="__span-23-58"><a id="__codelineno-23-58" name="__codelineno-23-58" href="#__codelineno-23-58"></a> <span class="s1">&#39;No image was generated. Check the request parameters and prompt.&#39;</span>
</span><span id="__span-23-59"><a id="__codelineno-23-59" name="__codelineno-23-59" href="#__codelineno-23-59"></a> <span class="p">);</span>
</span><span id="__span-23-60"><a id="__codelineno-23-60" name="__codelineno-23-60" href="#__codelineno-23-60"></a> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span id="__span-23-61"><a id="__codelineno-23-61" name="__codelineno-23-61" href="#__codelineno-23-61"></a> <span class="n">let</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span id="__span-23-62"><a id="__codelineno-23-62" name="__codelineno-23-62" href="#__codelineno-23-62"></a> <span class="k">for</span> <span class="p">(</span><span class="n">const</span> <span class="n">prediction</span> <span class="n">of</span> <span class="n">predictions</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-23-63"><a id="__codelineno-23-63" name="__codelineno-23-63" href="#__codelineno-23-63"></a> <span class="n">const</span> <span class="n">buff</span> <span class="o">=</span> <span class="n">Buffer</span><span class="o">.</span><span class="n">from</span><span class="p">(</span>
</span><span id="__span-23-64"><a id="__codelineno-23-64" name="__codelineno-23-64" href="#__codelineno-23-64"></a> <span class="n">prediction</span><span class="o">.</span><span class="n">structValue</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">bytesBase64Encoded</span><span class="o">.</span><span class="n">stringValue</span><span class="p">,</span>
</span><span id="__span-23-65"><a id="__codelineno-23-65" name="__codelineno-23-65" href="#__codelineno-23-65"></a> <span class="s1">&#39;base64&#39;</span>
</span><span id="__span-23-66"><a id="__codelineno-23-66" name="__codelineno-23-66" href="#__codelineno-23-66"></a> <span class="p">);</span>
</span><span id="__span-23-67"><a id="__codelineno-23-67" name="__codelineno-23-67" href="#__codelineno-23-67"></a> <span class="o">//</span> <span class="n">Write</span> <span class="n">image</span> <span class="n">content</span> <span class="n">to</span> <span class="n">the</span> <span class="n">output</span> <span class="n">file</span>
</span><span id="__span-23-68"><a id="__codelineno-23-68" name="__codelineno-23-68" href="#__codelineno-23-68"></a> <span class="n">const</span> <span class="n">writeFile</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">promisify</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">writeFile</span><span class="p">);</span>
</span><span id="__span-23-69"><a id="__codelineno-23-69" name="__codelineno-23-69" href="#__codelineno-23-69"></a> <span class="n">const</span> <span class="n">filename</span> <span class="o">=</span> <span class="err">`</span><span class="n">output</span><span class="err">$</span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="o">.</span><span class="n">png</span><span class="err">`</span><span class="p">;</span>
</span><span id="__span-23-70"><a id="__codelineno-23-70" name="__codelineno-23-70" href="#__codelineno-23-70"></a> <span class="k">await</span> <span class="n">writeFile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">buff</span><span class="p">);</span>
</span><span id="__span-23-71"><a id="__codelineno-23-71" name="__codelineno-23-71" href="#__codelineno-23-71"></a> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Saved</span> <span class="n">image</span> <span class="err">$</span><span class="p">{</span><span class="n">filename</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
</span><span id="__span-23-72"><a id="__codelineno-23-72" name="__codelineno-23-72" href="#__codelineno-23-72"></a> <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-23-73"><a id="__codelineno-23-73" name="__codelineno-23-73" href="#__codelineno-23-73"></a> <span class="p">}</span>
</span><span id="__span-23-74"><a id="__codelineno-23-74" name="__codelineno-23-74" href="#__codelineno-23-74"></a> <span class="p">}</span>
</span><span id="__span-23-75"><a id="__codelineno-23-75" name="__codelineno-23-75" href="#__codelineno-23-75"></a><span class="p">}</span>
</span><span id="__span-23-76"><a id="__codelineno-23-76" name="__codelineno-23-76" href="#__codelineno-23-76"></a><span class="k">await</span> <span class="n">generateImage</span><span class="p">();</span>
</span></code></pre></div>
<h4 id="verify-a-watermarked-image">Verify a watermarked image<a class="headerlink" href="#verify-a-watermarked-image" title="Permanent link">&para;</a></h4>
<p>Do the following:</p>
<ol>
<li>In the Google Cloud console, open the <strong>Vertex AI Studio &gt; Media</strong> tab in the
 Vertex AI dashboard.</li>
</ol>
<p><a href="https://console.cloud.google.com/vertex-ai/generative/vision">Go to the Vertex AI Studio tab</a>
2. In the lower panel, click local_police<strong>Verify</strong>.
3. Click <strong>Upload image</strong>.
4. Select a locally-saved generated image.</p>
<p>Watermarked images display a local_police<strong>SynthID detected</strong>
 badge.</p>
<h3 id="configure-responsible-ai-rai-safety-settings">Configure Responsible AI (RAI) safety settings<a class="headerlink" href="#configure-responsible-ai-rai-safety-settings" title="Permanent link">&para;</a></h3>
<p><strong>Note:</strong> The available settings depend on the model version that you use.
For more information, see <a href="../../supported-models_1/">Imagen
models</a> and the <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/image-generation">API
reference</a>.</p>
<p>There are several <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen#safety-filters">Responsible AI (RAI) filtering</a> parameters you can
use with an image generation model. For example, you can let the model report
RAI filter codes for blocked content, disable people or face generation using
RAI filters, set the level of content filtering, or return rounded RAI scores of
list of safety attributes for input and output.</p>
<p>For more detailed information about Responsible AI (RAI), its associated
parameters, and their sample output, see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen#safety-filters">Understand and configure Responsible
AI for Imagen</a>.</p>
<p>The following samples show you how to set available RAI parameters for
image generation.</p>
<h3 id="console_2">Console<a class="headerlink" href="#console_2" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Google Cloud console, open the <strong>Vertex AI Studio &gt; Media</strong> tab in the
 Vertex AI dashboard.</li>
</ol>
<p><a href="https://console.cloud.google.com/vertex-ai/generative/vision">Go to the Vertex AI Studio tab</a>
2. Add your text prompt and choose your input parameters.
3. If not expanded, click <strong>Advanced options</strong>.
4. Click <strong>Safety settings</strong>.
5. Choose your safety settings:</p>
<ul>
<li><strong>Person/face generation</strong>: Choose a setting:</li>
<li><code>Allow (All ages)</code></li>
<li><code>Allow (Adults only)</code></li>
<li><code>Don't allow</code></li>
<li><strong>Safety filter threshold</strong>: Choose a setting:</li>
<li><code>Block low and above</code></li>
<li><code>Block medium and above</code></li>
<li><code>Block only high</code></li>
<li>Click <strong>Save</strong>.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ul>
<h3 id="rest_2">REST<a class="headerlink" href="#rest_2" title="Permanent link">&para;</a></h3>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>LOCATION: Your project's region. For example,
 <code>us-central1</code>, <code>europe-west2</code>, or <code>asia-northeast3</code>. For a list
 of available regions, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.</li>
<li>TEXT_PROMPT: The text prompt that guides what images the model
 generates. This field is required for both generation and editing.</li>
<li>IMAGE_COUNT: The number of generated images.
 Accepted integer values: 1-8 (<code>imagegeneration@002</code>), 1-4 (all other model versions).
 Default value: 4.</li>
<li>SAFETY_SETTING: string. Optional. A setting that controls safety filter thresholds
 for generated images. Available values:</li>
<li><code>block_low_and_above</code>: The highest safety threshold, resulting in the largest
 amount of
 generated images that are filtered. Previous value: <code>block_most</code>.</li>
<li><code>block_medium_and_above</code> (default): A medium safety threshold that balances
 filtering for
 potentially harmful and safe content. Previous value: <code>block_some</code>.</li>
<li><code>block_only_high</code>: A safety threshold that reduces the number of
 requests blocked
 due to safety filters. This setting might increase objectionable content generated by
 Imagen. Previous value: <code>block_few</code>.</li>
<li>PERSON_SETTING: string. Optional. The safety setting that controls the type of
 people or face generation the model allows. Available values:</li>
<li><code>allow_adult</code> (default): Allow generation of adults only, except for celebrity
 generation. Celebrity generation is not allowed for any setting.</li>
<li><code>dont_allow</code>: Disable the inclusion of people or faces in generated images.</li>
<li>INCLUDE_RAI_REASON: boolean. Optional. Whether to enable the
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen#safety-categories">Responsible AI
 filtered reason code</a> in responses with blocked input or output. Default value:
 <code>false</code>.</li>
<li>INCLUDE_SAFETY_ATTRIBUTES: boolean. Optional. Whether to enable rounded
 Responsible AI scores for a list of safety attributes in responses for unfiltered input and
 output. Safety attribute categories: <code>"Death, Harm &amp; Tragedy"</code>,
 <code>"Firearms &amp; Weapons"</code>, <code>"Hate"</code>, <code>"Health"</code>,
 <code>"Illicit Drugs"</code>, <code>"Politics"</code>, <code>"Porn"</code>,
 <code>"Religion &amp; Belief"</code>, <code>"Toxic"</code>, <code>"Violence"</code>,
 <code>"Vulgarity"</code>, <code>"War &amp; Conflict"</code>. Default value: <code>false</code>.</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">imagegeneration</span><span class="o">@</span><span class="mi">006</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="p">{</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a> <span class="p">{</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT_PROMPT&quot;</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a> <span class="p">}</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a> <span class="p">],</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a> <span class="s2">&quot;safetySetting&quot;</span><span class="p">:</span> <span class="s2">&quot;SAFETY_SETTING&quot;</span><span class="p">,</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a> <span class="s2">&quot;personGeneration&quot;</span><span class="p">:</span> <span class="s2">&quot;PERSON_SETTING&quot;</span><span class="p">,</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a> <span class="s2">&quot;includeRaiReason&quot;</span><span class="p">:</span> <span class="n">INCLUDE_RAI_REASON</span><span class="p">,</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a> <span class="s2">&quot;includeSafetyAttributes&quot;</span><span class="p">:</span> <span class="n">INCLUDE_SAFETY_ATTRIBUTES</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a> <span class="p">}</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_2">curl<a class="headerlink" href="#curl_2" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/imagegeneration@006:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell_2">PowerShell<a class="headerlink" href="#powershell_2" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/imagegeneration@006:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>The response you get depends on the safety settings you set.
For more information, see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/responsible-ai-imagen">Understand and configure
Responsible AI (RAI) for Imagen</a>.</p>
<h3 id="prompt-enhancement-using-prompt-rewriter">Prompt enhancement using prompt rewriter<a class="headerlink" href="#prompt-enhancement-using-prompt-rewriter" title="Permanent link">&para;</a></h3>
<p><strong>Feature availability</strong>: This feature is available only for
the Imagen3 model version 002
(<code>imagen-3.0-generate-002</code>).</p>
<p>The Imagen3 model version 002 includes a prompt rewriter
feature that uses an LLM-based prompt rewriting tool. This tool generally adds
more detail to the provided prompt to deliver higher quality images that better
reflect the prompt provided. If you disable this feature, the quality and
prompt-adherence of the images you receive may be impacted. This feature is
enabled by default.</p>
<p>The rewritten prompt is only delivered by API response if the original prompt
is fewer than 30 words long.</p>
<h3 id="console_3">Console<a class="headerlink" href="#console_3" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Google Cloud console, open the <strong>Vertex AI Studio &gt; Media</strong> tab in the
 Vertex AI dashboard.</li>
</ol>
<p><a href="https://console.cloud.google.com/vertex-ai/generative/vision">Go to the Vertex AI Studio tab</a>
2. Add your text prompt and choose your input parameters.
3. In the <strong>Parameters</strong> panel, use the
 toggle_on<strong>Enable prompt enhancement</strong>
 toggle option to leave prompt enhancement enabled or to disable this
 feature.
4. Click play_arrow<strong>Generate</strong>.</p>
<h3 id="rest_3">REST<a class="headerlink" href="#rest_3" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>MODEL_VERSION: The image generation model version to use. Available
 values that support prompt enhancement:</li>
<li><code>imagen-3.0-generate-002</code></li>
</ul>
<p>For more information about model versions and features, see <a href="#model-versions">model
 versions</a>.
- LOCATION: Your project's region. For example,
 <code>us-central1</code>, <code>europe-west2</code>, or <code>asia-northeast3</code>. For a list
 of available regions, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.
- TEXT_PROMPT: The text prompt that guides what images the model
 generates. Before images are generated, this base prompt is enhanced with more detail and
 descripitive language using the LLM-based prompt rewriting tool.
- IMAGE_COUNT: The number of generated images.
 Accepted integer values: 1-4. Default value: 4.
- <code>enhancePrompt</code> - A boolean to enable LLM-based prompt enhancement. By default,
 this value is set to <code>true</code>.</p>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">MODEL_VERSION</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="p">{</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a> <span class="p">{</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT_PROMPT&quot;</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a> <span class="p">}</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a> <span class="p">],</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a> <span class="s2">&quot;enhancePrompt&quot;</span><span class="p">:</span> <span class="n">true</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a> <span class="p">}</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_3">curl<a class="headerlink" href="#curl_3" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell_3">PowerShell<a class="headerlink" href="#powershell_3" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_VERSION:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>With prompt enhancement enabled, the response includes an additional <code>prompt</code> field that
shows the enhanced prompt and its associated generated image:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a> <span class="p">{</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a> <span class="p">{</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;MIME_TYPE&quot;</span><span class="p">,</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;ENHANCED_PROMPT_1&quot;</span><span class="p">,</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES_1&quot;</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a> <span class="p">},</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a> <span class="p">{</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;MIME_TYPE&quot;</span><span class="p">,</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;ENHANCED_PROMPT_2&quot;</span><span class="p">,</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES_2&quot;</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a> <span class="p">}</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a> <span class="p">]</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a> <span class="p">}</span>
</span></code></pre></div>
<p>For example, the following sample response is for a request with
<code>"sampleCount": 2</code> and <code>"prompt": "A raccoon wearing formal clothes, wearing a top
hat. Oil painting in the style of Vincent Van Gogh."</code>. The response returns two prediction
objects, each with their enhanced prompt and the generated image bytes base64-encoded.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="p">{</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a> <span class="p">{</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;An oil painting in the style of Vincent van Gogh, depicting a raccoon adorned</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a> <span class="ow">in</span> <span class="n">a</span> <span class="n">finely</span> <span class="n">tailored</span> <span class="n">tuxedo</span><span class="p">,</span> <span class="n">complete</span> <span class="k">with</span> <span class="n">a</span> <span class="n">crisp</span> <span class="n">white</span> <span class="n">shirt</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">bow</span> <span class="n">tie</span><span class="o">.</span> <span class="n">The</span> <span class="n">raccoon</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a> <span class="n">also</span> <span class="n">sports</span> <span class="n">a</span> <span class="n">classic</span> <span class="n">top</span> <span class="n">hat</span><span class="p">,</span> <span class="n">perched</span> <span class="n">jauntily</span> <span class="n">on</span> <span class="n">its</span> <span class="n">head</span><span class="o">.</span> <span class="n">The</span> <span class="n">painting</span> <span class="n">uses</span> <span class="n">thick</span><span class="p">,</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a> <span class="n">swirling</span> <span class="n">brushstrokes</span> <span class="n">characteristic</span> <span class="n">of</span> <span class="n">van</span> <span class="n">Gogh</span><span class="p">,</span> <span class="k">with</span> <span class="n">vibrant</span> <span class="n">hues</span> <span class="n">of</span> <span class="n">blue</span><span class="p">,</span> <span class="n">yellow</span><span class="p">,</span> <span class="ow">and</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a> <span class="n">green</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">background</span><span class="p">,</span> <span class="n">contrasting</span> <span class="k">with</span> <span class="n">the</span> <span class="n">dark</span> <span class="n">tones</span> <span class="n">of</span> <span class="n">the</span> <span class="n">raccoon</span><span class="s1">&#39;s attire. The light</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a> <span class="n">source</span> <span class="ow">is</span> <span class="n">subtly</span> <span class="n">placed</span><span class="p">,</span> <span class="n">casting</span> <span class="n">a</span> <span class="n">dramatic</span> <span class="n">shadow</span> <span class="n">of</span> <span class="n">the</span> <span class="n">raccoon</span><span class="s1">&#39;s attire onto the surface</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a> <span class="n">it</span> <span class="n">sits</span> <span class="n">upon</span><span class="p">,</span> <span class="n">further</span> <span class="n">enhancing</span> <span class="n">the</span> <span class="n">depth</span> <span class="ow">and</span> <span class="n">dimensionality</span> <span class="n">of</span> <span class="n">the</span> <span class="n">composition</span><span class="o">.</span> <span class="n">The</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a> <span class="n">overall</span> <span class="n">impression</span> <span class="ow">is</span> <span class="n">one</span> <span class="n">of</span> <span class="n">a</span> <span class="n">whimsical</span> <span class="ow">and</span> <span class="n">sophisticated</span> <span class="n">character</span><span class="p">,</span> <span class="n">a</span> <span class="n">raccoon</span> <span class="n">elevated</span> <span class="n">to</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a> <span class="n">a</span> <span class="n">higher</span> <span class="k">class</span><span class="w"> </span><span class="nc">through</span> <span class="n">its</span> <span class="n">formal</span> <span class="n">attire</span><span class="p">,</span> <span class="n">rendered</span> <span class="ow">in</span> <span class="n">van</span> <span class="n">Gogh</span><span class="s1">&#39;s iconic style.&quot;,</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a> <span class="p">},</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a> <span class="p">{</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;An oil painting in the style of Vincent van Gogh featuring a raccoon in a</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a> <span class="n">dapper</span> <span class="n">suit</span><span class="p">,</span> <span class="n">complete</span> <span class="k">with</span> <span class="n">a</span> <span class="n">black</span> <span class="n">jacket</span><span class="p">,</span> <span class="n">crisp</span> <span class="n">white</span> <span class="n">shirt</span><span class="p">,</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">black</span> <span class="n">bow</span> <span class="n">tie</span><span class="o">.</span> <span class="n">The</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a> <span class="n">raccoon</span> <span class="ow">is</span> <span class="n">wearing</span> <span class="n">a</span> <span class="n">black</span> <span class="n">top</span> <span class="n">hat</span><span class="p">,</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">touch</span> <span class="n">of</span> <span class="n">elegance</span> <span class="n">to</span> <span class="n">its</span> <span class="n">ensemble</span><span class="o">.</span> <span class="n">The</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a> <span class="n">painting</span> <span class="ow">is</span> <span class="n">rendered</span> <span class="k">with</span> <span class="n">characteristic</span> <span class="n">van</span> <span class="n">Gogh</span> <span class="n">brushwork</span><span class="p">,</span> <span class="n">utilizing</span> <span class="n">thick</span><span class="p">,</span> <span class="n">impasto</span>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a> <span class="n">strokes</span> <span class="n">of</span> <span class="n">color</span><span class="o">.</span> <span class="n">The</span> <span class="n">background</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">swirl</span> <span class="n">of</span> <span class="n">blues</span><span class="p">,</span> <span class="n">greens</span><span class="p">,</span> <span class="ow">and</span> <span class="n">yellows</span><span class="p">,</span> <span class="n">creating</span> <span class="n">a</span>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a> <span class="n">vibrant</span> <span class="n">yet</span> <span class="n">slightly</span> <span class="n">chaotic</span> <span class="n">atmosphere</span> <span class="n">that</span> <span class="n">contrasts</span> <span class="k">with</span> <span class="n">the</span> <span class="n">raccoon</span><span class="s1">&#39;s formal attire.</span>
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a> <span class="n">The</span> <span class="n">lighting</span> <span class="ow">is</span> <span class="n">dramatic</span><span class="p">,</span> <span class="n">casting</span> <span class="n">sharp</span> <span class="n">shadows</span> <span class="ow">and</span> <span class="n">highlighting</span> <span class="n">the</span> <span class="n">textures</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fabric</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a> <span class="ow">and</span> <span class="n">the</span> <span class="n">raccoon</span><span class="s1">&#39;s fur, enhancing the sense of realism within the fantastical scene. The</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a> <span class="n">composition</span> <span class="n">focuses</span> <span class="n">on</span> <span class="n">the</span> <span class="n">raccoon</span><span class="s1">&#39;s proud posture, highlighting the whimsical contrast of</span>
</span><span id="__span-33-27"><a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a> <span class="n">a</span> <span class="n">wild</span> <span class="n">animal</span> <span class="n">dressed</span> <span class="ow">in</span> <span class="n">formal</span> <span class="n">attire</span><span class="p">,</span> <span class="n">captured</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">unique</span> <span class="n">artistic</span> <span class="n">language</span> <span class="n">of</span> <span class="n">van</span>
</span><span id="__span-33-28"><a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a> <span class="n">Gogh</span><span class="o">.</span> <span class="s2">&quot;,</span>
</span><span id="__span-33-29"><a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span>
</span><span id="__span-33-30"><a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a> <span class="p">}</span>
</span><span id="__span-33-31"><a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a> <span class="p">]</span>
</span><span id="__span-33-32"><a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="text-prompt-language">Text prompt language<a class="headerlink" href="#text-prompt-language" title="Permanent link">&para;</a></h3>
<p><strong>Preview</strong></p>
<p>This Imagen feature is a Preview offering, subject to the
"Pre-GA Offerings Terms" of the
<a href="https://cloud.google.com/terms/service-terms">Google Cloud Service Specific Terms</a>. Pre-GA products and
features may have limited support, and changes to pre-GA products and features may not be
compatible with other pre-GA versions. For more information, see the
<a href="https://cloud.google.com/products#product-launch-stages">launch stage descriptions</a>. Further, by using
this Imagen feature, you agree to the Generative AI Preview
<a href="/trustedtester/aitos">terms and conditions</a> ("Preview Terms").</p>
<p>This optional parameter lets you set the language of the input text for image
generation or image editing.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Image generated from prompt:                    VERTEX AI       1 1 <em>A pile of books seen from above. The topmost book contains a watercolor illustration of a bird. </em><em>VERTEX AI</em><em> is written in bold letters on the book.</em></td>
<td>Image generated from prompt:               2 2 <em>Woman wearing bright colors, in the style of dark yellow and dark cyan, wearing earrings, postmodern fashion photography.</em></td>
</tr>
</tbody>
</table>
<h4 id="before-you-begin_1">Before you begin<a class="headerlink" href="#before-you-begin_1" title="Permanent link">&para;</a></h4>
<p>Before you use this feature, complete the following steps:</p>
<ol>
<li>To create a service identity for Vertex AI to use in your project,
 use the <a href="https://cloud.google.com/sdk/gcloud/reference/beta/services/identity/create">following
 command</a>:</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">gcloud</span> <span class="n">beta</span> <span class="n">services</span> <span class="n">identity</span> <span class="n">create</span> <span class="o">--</span><span class="n">service</span><span class="o">=</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span> <span class="o">--</span><span class="n">project</span><span class="o">=</span><span class="n">PROJECT_ID</span>
</span></code></pre></div>
2. Request feature access. To request access, send an email to the
 <a href="mailto:cloud-trusted-tester-access-genapp@google.com">Google Cloud Trusted Testers Access: GenApp
 Builder</a> group.
 Reference <strong>Multi-Lingual Prompts</strong> in your message, and include your
 <strong>project number</strong>. The approval process usually takes several hours.</p>
<h4 id="set-text-prompt-language">Set text prompt language<a class="headerlink" href="#set-text-prompt-language" title="Permanent link">&para;</a></h4>
<p>The following input values are supported for the text-prompt lanague:</p>
<ul>
<li>Chinese (simplified) (<code>zh</code>/<code>zh-CN</code>)</li>
<li>Chinese (traditional) (<code>zh-TW</code>)</li>
<li>English (<code>en</code>, default value)</li>
<li>Hindi (<code>hi</code>)</li>
<li>Japanese (<code>ja</code>)</li>
<li>Korean (<code>ko</code>)</li>
<li>Portuguese (<code>pt</code>)</li>
<li>Spanish (<code>es</code>)</li>
</ul>
<h3 id="console_4">Console<a class="headerlink" href="#console_4" title="Permanent link">&para;</a></h3>
<p>If your prompt is in one of the supported languages,
Imagen detects and translates your text and
returns your generated or edited images.</p>
<p>If your prompt is in an unsupported language, Imagen uses
the text verbatim for the request. This might result in unexpected output.</p>
<h3 id="rest_4">REST<a class="headerlink" href="#rest_4" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p><strong>Important:</strong> <code>imagen-3.0-generate-002</code> doesn't support the text prmopt
language feature.</p>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>TEXT_PROMPT: The text prompt that guides what images the model
 generates. This field is required for both generation and editing.</li>
<li>PROMPT_LANGUAGE: string. Optional. The language code that corresponds to your text
 prompt language.
 In this example it would be <code>hi</code>. Available values:</li>
<li><code>auto</code> - Automatic detection. If Imagen detects a
 supported language, the prompt (and optionally, a negative prompt), are
 translated to English. If the language detected is not supported,
 Imagen uses the input text verbatim, which might result in unexpected
 output. No error code is returned.</li>
<li><code>en</code> - English (default value if omitted)</li>
<li><code>es</code> - Spanish</li>
<li><code>hi</code> - Hindi</li>
<li><code>ja</code> - Japanese</li>
<li><code>ko</code> - Korean</li>
<li><code>pt</code> - Portuguese</li>
<li><code>zh-TW</code> - Chinese (traditional)</li>
<li><code>zh</code> or <code>zh-CN</code> - Chinese (simplified)</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">-</span><span class="n">central1</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">us</span><span class="o">-</span><span class="n">central1</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">imagegeneration</span><span class="o">@</span><span class="mi">005</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="p">{</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a> <span class="p">{</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;       ,                &quot;</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a> <span class="p">}</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a> <span class="p">],</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a> <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;PROMPT_LANGUAGE&quot;</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a> <span class="p">}</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_4">curl<a class="headerlink" href="#curl_4" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a> <span class="s2">&quot;https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/imagegeneration@005:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell_4">PowerShell<a class="headerlink" href="#powershell_4" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/imagegeneration@005:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>The following sample response is for a request with
<code>"sampleCount": 2</code>. The response returns two prediction objects, with
the generated image bytes base64-encoded.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="p">{</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a> <span class="p">{</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span><span class="p">,</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a> <span class="p">},</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a> <span class="p">{</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;BASE64_IMG_BYTES&quot;</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a> <span class="p">}</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a> <span class="p">]</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="aspect-ratio">Aspect ratio<a class="headerlink" href="#aspect-ratio" title="Permanent link">&para;</a></h3>
<p><strong>Note:</strong> You can only set certain aspect ratios using specific model versions. For
aspect ratio availability by version, see the <a href="#model-versions">model
versions</a> section.</p>
<p>Depending on how you plan to use your generated images, some aspect ratios may
work better than others. Choose the aspect ratio that best suits your use case.</p>
<p>Supported aspect ratios and their intended use:</p>
<table>
<thead>
<tr>
<th>Aspect ratio</th>
<th>Intended use</th>
<th>Image resolution (pixels)</th>
<th>Sample image</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1:1</code></td>
<td>default, square, general use</td>
<td>1024x1024 (Imagen v.002) 1536x1536 (Imagen2 v.005, v.006) 1024x1024 (Imagen3)</td>
<td>Prompt: <em>overhead shot of a pasta dinner, studio photo in the style of food magazine cover</em>.</td>
</tr>
<tr>
<td><code>3:4</code></td>
<td>TV, media, film</td>
<td>1344x1792 (Imagen2 v.006) 896x1280 (Imagen3)</td>
<td>Prompt: <em>commercial photoshoot, fragrance ad, lavender vanilla scented bottle on a light colored background</em>.</td>
</tr>
<tr>
<td><code>4:3</code></td>
<td>TV, media, film</td>
<td>1792x1344 (Imagen2 v.006) 1280x896 (Imagen3)</td>
<td>Prompt: <em>commercial photoshoot, green and gray high top sneakers, 4k, dramatic angles</em>.</td>
</tr>
<tr>
<td><code>9:16</code></td>
<td>portrait, tall objects, mobile devices</td>
<td>1134x2016 (Imagen2 v.005, v.006) 768x1408 (Imagen3)</td>
<td>Prompt: <em>skyscrapers in new york city, futuristic rendering, concept, digital art</em>.</td>
</tr>
<tr>
<td><code>16:9</code></td>
<td>landscape</td>
<td>2016x1134 (Imagen2 v.006) 1408x768 (Imagen3)</td>
<td>Prompt: <em>nature photography, a beach in hawaii with the ocean in the background, lens flare, sunset</em>.</td>
</tr>
</tbody>
</table>
<h3 id="console_5">Console<a class="headerlink" href="#console_5" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 open the Vertex AI Studio and enter your text prompt.</li>
<li>In the <strong>Parameters</strong> panel, select an aspect ratio from the
 <strong>Aspect ratio</strong> menu.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ol>
<h3 id="rest_5">REST<a class="headerlink" href="#rest_5" title="Permanent link">&para;</a></h3>
<p>Aspect ratio is an optional field in the <code>parameters</code> object of a JSON
request body.</p>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 replace other request body variables.</li>
<li>
<p>Replace the following:</p>
</li>
<li>
<p>ASPECT_RATIO: string. Optional. A generation mode parameter that controls aspect
 ratio. Supported ratio values and their intended use:</p>
</li>
<li><code>1:1</code> (default, square)</li>
<li><code>3:4</code> (Ads, social media)</li>
<li><code>4:3</code> (TV, photography)</li>
<li><code>16:9</code> (landscape)</li>
<li><code>9:16</code> (portrait)</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="p">{</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="o">...</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="p">],</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="s2">&quot;aspectRatio&quot;</span><span class="p">:</span> <span class="s2">&quot;ASPECT_RATIO&quot;</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="p">}</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="p">}</span>
</span></code></pre></div>
3. Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 send your REST request.</p>
<h3 id="number-of-results">Number of results<a class="headerlink" href="#number-of-results" title="Permanent link">&para;</a></h3>
<p>Use the number of results parameter to limit the amount of images returned
for each request (generate or edit) you send.</p>
<h3 id="console_6">Console<a class="headerlink" href="#console_6" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 open the Vertex AI Studio and enter your text prompt.</li>
<li>In the <strong>Parameters</strong> panel, select a valid integer value in the
 <strong>Number of results</strong> field.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ol>
<h3 id="rest_6">REST<a class="headerlink" href="#rest_6" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Number of results is a field in the <code>parameters</code> object of a JSON
request body.</p>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 replace other request body variables.</li>
<li>
<p>Replace the following:</p>
</li>
<li>
<p>IMAGE_COUNT: The number of generated images.
 Accepted integer values: 1-8 (<code>imagegeneration@002</code>), 1-4 (all other model versions).
 Default value: 4.</p>
</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="p">{</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="o">...</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="p">],</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span> 
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="p">}</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="p">}</span>
</span></code></pre></div>
3. Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 send your REST request.</p>
<h3 id="negative-prompt">Negative prompt<a class="headerlink" href="#negative-prompt" title="Permanent link">&para;</a></h3>
<p><strong>Caution:</strong> Negative prompt isn't supported with the <code>imagen-3.0-generate-002</code>
model.</p>
<p>A negative prompt is a description of what you want to omit in generated images.
For example, consider the prompt <em>"a rainy city street at night
with no people"</em>. The model may interpret "people" as a directive of what
include instead of omit. To generate better results, you could
use the prompt <em>"a rainy city street at night"</em> with a negative
prompt <em>"people"</em>.</p>
<p>Imagen generates these images with and without a negative
prompt:</p>
<p><strong>Text prompt only</strong></p>
<ul>
<li>Text prompt: "<em>a pizza</em>"</li>
</ul>
<p><strong>Text prompt and negative prompt</strong></p>
<ul>
<li>Text prompt: "<em>a pizza</em>"</li>
<li>Negative prompt: "<em>pepperoni</em>"</li>
</ul>
<h3 id="console_7">Console<a class="headerlink" href="#console_7" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 open the Vertex AI Studio and enter your text prompt.</li>
<li>In the <strong>Parameters</strong> panel, enter a negative prompt in the
 <strong>Negative prompt</strong> field.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ol>
<h3 id="rest_7">REST<a class="headerlink" href="#rest_7" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Negative prompt is an optional field in the <code>parameters</code> object of a JSON
request body.</p>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 replace other request body variables.</li>
<li>
<p>Replace the following:</p>
</li>
<li>
<p>NEGATIVE_PROMPT: A negative prompt to help generate the images. For example:
 "animals" (removes animals), "blurry" (makes the image clearer), "text" (removes text), or
 "cropped" (removes cropped images).</p>
</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="p">{</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="o">...</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="p">],</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="s2">&quot;negativePrompt&quot;</span><span class="p">:</span> <span class="s2">&quot;NEGATIVE_PROMPT&quot;</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="p">}</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="p">}</span>
</span></code></pre></div>
3. Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 send your REST request.</p>
<h3 id="seed-number">Seed number<a class="headerlink" href="#seed-number" title="Permanent link">&para;</a></h3>
<p><strong>Caution:</strong> Model version 006 and greater only. To use the <code>seed</code> field, you must
also disable the watermark feature using <code>"addWatermark": false</code>.</p>
<p>A seed number is a number you add to a request to make generated images
deterministic. Adding a seed number with your request is a way to assure you get
the same generated images each time. For example, you can provide a prompt, set
the number of results to 1, and use a seed number to get the same image each
time you use all those same input values. If you send the same request with the
number of results set to 8, you will get the same eight images. However, the
images aren't necessarily returned in the same order.</p>
<h3 id="console_8">Console<a class="headerlink" href="#console_8" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 open the Vertex AI Studio and enter your text prompt.</li>
<li>In the <strong>Parameters</strong> panel, click the
 expand_more<strong>Advanced options</strong>
 expandable section.</li>
<li>In the <strong>Seed</strong> field, enter a seed number.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ol>
<h3 id="rest_8">REST<a class="headerlink" href="#rest_8" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Seed number is an optional field in the <code>parameters</code> object of a JSON
request body.</p>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 replace other request body variables.</li>
<li>
<p>Replace the following:</p>
</li>
<li>
<p>SEED_NUMBER: integer. Optional. Any non-negative integer you provide to make output
 images deterministic. Providing the same seed number always results in the same output images. If
 the model you're using supports digital watermarking, you must set
 <code>"addWatermark": false</code> to use this field.
 Accepted integer values: <code>1</code> - <code>2147483647</code>.</p>
</li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="p">{</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="o">...</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="p">],</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="s2">&quot;seed&quot;</span><span class="p">:</span> <span class="n">SEED_NUMBER</span><span class="p">,</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="o">//</span> <span class="n">required</span> <span class="k">for</span> <span class="n">model</span> <span class="n">version</span> <span class="mi">006</span> <span class="ow">and</span> <span class="n">greater</span> <span class="n">only</span> <span class="n">when</span> <span class="n">using</span> <span class="n">a</span> <span class="n">seed</span> <span class="n">number</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="s2">&quot;addWatermark&quot;</span><span class="p">:</span> <span class="n">false</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="p">}</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="p">}</span>
</span></code></pre></div>
3. Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 send your REST request.</p>
<h3 id="predefined-style">Predefined style<a class="headerlink" href="#predefined-style" title="Permanent link">&para;</a></h3>
<p><strong>Feature availability:</strong> This feature is available only
for model version 002 (<code>imagegeneration@002</code>).</p>
<p>The style of image you are looking to generate. You can use this feature to
create images in popular styles such as digital art, watercolor, or
cyberpunk.</p>
<h3 id="console_9">Console<a class="headerlink" href="#console_9" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 open the Vertex AI Studio and enter your text prompt.</li>
<li>In <strong>Style</strong> section of the <strong>Parameters</strong> panel, chose a style from the
 menu.</li>
<li>Click play_arrow<strong>Generate</strong>.</li>
</ol>
<h3 id="rest_9">REST<a class="headerlink" href="#rest_9" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Predefined style is an optional field in the <code>parameters</code> object of a JSON
request body.</p>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 replace other request body variables.</li>
<li>
<p>Replace the following:</p>
</li>
<li>
<p>IMAGE_STYLE: One of the available predefined styles:</p>
</li>
<li><code>photograph</code></li>
<li><code>digital_art</code></li>
<li><code>landscape</code></li>
<li><code>sketch</code></li>
<li><code>watercolor</code></li>
<li><code>cyberpunk</code></li>
<li><code>pop_art</code></li>
</ol>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="p">{</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="o">...</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="p">],</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">IMAGE_COUNT</span><span class="p">,</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="s2">&quot;sampleImageStyle&quot;</span><span class="p">:</span> <span class="s2">&quot;IMAGE_STYLE&quot;</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="p">}</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="p">}</span>
</span></code></pre></div>
3. Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 send your REST request.</p>
<h2 id="upscale-an-image">Upscale an image<a class="headerlink" href="#upscale-an-image" title="Permanent link">&para;</a></h2>
<p>Use upscaling to increase the size of existing, generated, or edited images
without losing quality.</p>
<h3 id="console_10">Console<a class="headerlink" href="#console_10" title="Permanent link">&para;</a></h3>
<ol>
<li>Follow the <a href="#text-image-gen">generate image with text</a> instructions to
 generate images.</li>
<li>Select the image to upscale.</li>
<li>Click
 download<strong>Export</strong>.</li>
<li>Select <strong>Upscale images</strong>.</li>
<li>Choose a value from the <strong>Scale factor</strong>.</li>
<li>Click
 download<strong>Export</strong> to save the
 upscaled image.</li>
</ol>
<h3 id="rest_10">REST<a class="headerlink" href="#rest_10" title="Permanent link">&para;</a></h3>
<p>For more information about <code>imagegeneration</code> model requests, see the
<a href="../../model-reference/imagen-api/"><code>imagegeneration</code> model API reference</a>.</p>
<p>Upscaling mode is an optional field in the <code>parameters</code> object of a JSON
request body. When you upscale an image using the API, specify
<code>"mode": "upscale"</code> and <code>upscaleConfig</code>.</p>
<p>Before using any of the request data,
make the following replacements:</p>
<ul>
<li>LOCATION: Your project's region. For example,
 <code>us-central1</code>, <code>europe-west2</code>, or <code>asia-northeast3</code>. For a list
 of available regions, see
 <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations-genai">Generative AI on Vertex AI locations</a>.</li>
<li>PROJECT_ID: Your Google Cloud <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifiers">project ID</a>.</li>
<li>B64_BASE_IMAGE: The base image to edit or upscale. The
 image must be specified as a <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/image/base64-encode">base64-encoded</a> byte
 string. Size limit: 10 MB.</li>
<li>IMAGE_SOURCE: The Cloud Storage location of the image you
 want to edit or upscale. For example: <code>gs://output-bucket/source-photos/photo.png</code>.</li>
<li>UPSCALE_FACTOR: Optional. The factor to which the image will be upscaled. If not
 specified, the upscale factor will be determined from the longer side of the input image and
 <code>sampleImageSize</code>. Available values: <code>x2</code> or <code>x4</code> .</li>
</ul>
<p>HTTP method and URL:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="n">POST</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">LOCATION</span><span class="o">-</span><span class="n">aiplatform</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">locations</span><span class="o">/</span><span class="n">LOCATION</span><span class="o">/</span><span class="n">publishers</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">imagegeneration</span><span class="o">@</span><span class="mi">002</span><span class="p">:</span><span class="n">predict</span>
</span></code></pre></div>
<p>Request JSON body:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="p">{</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a> <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a> <span class="p">{</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a> <span class="o">//</span> <span class="n">use</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">image</span> <span class="n">to</span> <span class="n">upscale</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;B64_BASE_IMAGE&quot;</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a> <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="s2">&quot;IMAGE_SOURCE&quot;</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a> <span class="o">//</span> <span class="n">end</span> <span class="n">of</span> <span class="n">base</span> <span class="n">image</span> <span class="nb">input</span> <span class="n">options</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a> <span class="p">},</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a> <span class="p">}</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a> <span class="p">],</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a> <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a> <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a> <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;upscale&quot;</span><span class="p">,</span>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a> <span class="s2">&quot;upscaleConfig&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a> <span class="s2">&quot;upscaleFactor&quot;</span><span class="p">:</span> <span class="s2">&quot;UPSCALE_FACTOR&quot;</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a> <span class="p">}</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a> <span class="p">}</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="p">}</span>
</span></code></pre></div>
<p>To send your request, choose one of these options:</p>
<h4 id="curl_5">curl<a class="headerlink" href="#curl_5" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
, or by using <a href="https://cloud.google.com/shell/docs">Cloud Shell</a>,
which automatically logs you into the <code>gcloud</code> CLI
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \ 
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $(gcloud auth print-access-token)&quot;</span> \ 
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json; charset=utf-8&quot;</span> \ 
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a> <span class="o">-</span><span class="n">d</span> <span class="nd">@request</span><span class="o">.</span><span class="n">json</span> \ 
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/imagegeneration@002:predict&quot;</span>
</span></code></pre></div>
<h4 id="powershell_5">PowerShell<a class="headerlink" href="#powershell_5" title="Permanent link">&para;</a></h4>
<p><strong>Note:</strong>
The following command assumes that you have logged in to
the <code>gcloud</code> CLI with your user account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/init"><code>gcloud init</code></a>
or
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/login"><code>gcloud auth login</code></a>
.
You can check the currently active account by running
<a href="https://cloud.google.com/sdk/gcloud/reference/auth/list"><code>gcloud auth list</code></a>.</p>
<p>Save the request body in a file named <code>request.json</code>,
and execute the following command:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="err">$</span><span class="n">cred</span> <span class="o">=</span> <span class="n">gcloud</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span> 
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="err">$</span><span class="n">headers</span> <span class="o">=</span> <span class="o">@</span><span class="p">{</span> <span class="s2">&quot;Authorization&quot;</span> <span class="o">=</span> <span class="s2">&quot;Bearer $cred&quot;</span> <span class="p">}</span> 
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="n">Invoke</span><span class="o">-</span><span class="n">WebRequest</span> <span class="err">`</span> 
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a> <span class="o">-</span><span class="n">Method</span> <span class="n">POST</span> <span class="err">`</span> 
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a> <span class="o">-</span><span class="n">Headers</span> <span class="err">$</span><span class="n">headers</span> <span class="err">`</span> 
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a> <span class="o">-</span><span class="n">ContentType</span><span class="p">:</span> <span class="s2">&quot;application/json; charset=utf-8&quot;</span> <span class="err">`</span> 
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a> <span class="o">-</span><span class="n">InFile</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span> <span class="err">`</span> 
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a> <span class="o">-</span><span class="n">Uri</span> <span class="s2">&quot;https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/imagegeneration@002:predict&quot;</span> <span class="o">|</span> <span class="n">Select</span><span class="o">-</span><span class="n">Object</span> <span class="o">-</span><span class="n">Expand</span> <span class="n">Content</span>
</span></code></pre></div>
<p>You should receive a JSON response similar to the following:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="p">{</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a> <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a> <span class="p">{</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a> <span class="s2">&quot;mimeType&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a> <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="s2">&quot;iVBOR..[base64-encoded-upscaled-image]...YII=&quot;</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a> <span class="p">}</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a> <span class="p">]</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<p>Read articles about Imagen and other Generative AI on Vertex AI
products:</p>
<ul>
<li><a href="https://cloud.google.com/blog/products/ai-machine-learning/a-developers-guide-to-imagen-3-on-vertex-ai?e=0?utm_source%3Dlinkedin">A developer's guide to getting started with Imagen3 on
 Vertex AI</a></li>
<li><a href="https://blog.google/technology/ai/google-generative-ai-veo-imagen-3/#veo">New generative media models and tools, built with and for creators</a></li>
<li><a href="https://blog.google/products/gemini/google-gemini-update-august-2024/">New in Gemini: Custom Gems and improved image generation with
 Imagen3</a></li>
<li><a href="https://deepmind.google/technologies/imagen-3/">Google DeepMind: Imagen3 - Our highest quality
 text-to-image model</a></li>
</ul>
<p>[Previous</p>
<p>arrow_back</p>
<p>Design image generation prompts](https://cloud.google.com/vertex-ai/generative-ai/docs/image/img-gen-prompt-guide)</p>
<p>[Next</p>
<p>Generate images</p>
<p>arrow_forward](../model-reference/imagen-api.md)</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../multimodal/Text-generationbookmark_borderbookmark/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Generate Text with Gemini">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Generate Text with Gemini
              </div>
            </div>
          </a>
        
        
          
          <a href="../../Generate-images-with-Gemini/" class="md-footer__link md-footer__link--next" aria-label="Next: Generate Images with Gemini">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Generate Images with Gemini
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow", "navigation.tabs", "navigation.sections", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../js/chat-widget/gemini-client.js"></script>
      
        <script src="../../js/chat-widget/init.js"></script>
      
        <script src="../../js/chat-widget/setup-key.js"></script>
      
        <script src="../../js/chat-widget-helper.js"></script>
      
    
  </body>
</html>