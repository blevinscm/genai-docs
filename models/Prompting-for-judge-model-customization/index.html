
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blevinscm.github.com/genai-docs/models/Prompting-for-judge-model-customization/">
      
      
      
      
      <link rel="icon" href="../../assets/google-cloud-vertex-ai.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Prompting For Judge Model Customization - Vertex Generative AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../js/chat-widget/chat-widget.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prompting-for-judge-model-customization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vertex Generative AI" class="md-header__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vertex Generative AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Prompting For Judge Model Customization
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-tabs__link">
          
  
  
    
  
  Learn

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../agent-engine/Set-up-the-environment/" class="md-tabs__link">
          
  
  
    
  
  Build

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Introduction-to-tuning/" class="md-tabs__link">
          
  
  
    
  
  Tune

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../deploy/Deploy-generative-AI-models/" class="md-tabs__link">
          
  
  
    
  
  Deploy

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-tabs__link">
          
  
  
    
  
  Manage

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../evaluation-overview/" class="md-tabs__link">
          
  
  
    
  
  Optimize

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vertex Generative AI" class="md-nav__button md-logo" aria-label="Vertex Generative AI" data-md-component="logo">
      
  <img src="../../assets/google-cloud-vertex-ai.png" alt="logo">

    </a>
    Vertex Generative AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/blevinscm/genai-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Learn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-Cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Generative AI Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-on-Vertex-AI-release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supported-models_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gemini Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Imagen-on-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Imagen Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code/code-models-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Models Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../intelligent-code-commenter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intelligent Code Commenter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-models/Use-Gemma-open-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open Models (Gemma, Llama)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../partner-models/use-partner-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partner Models (Claude, AI21)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Introduction-to-prompting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Prompting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Overview-of-prompting-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompting Strategies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Design-multimodal-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Choose-an-embeddings-task-type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embeddings Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Introduction-to-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function Calling Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Ground-responses-using-RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grounding Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/Vertex-AI-Agent-Builder-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Builder Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Vertex-AI-Agent-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Vertex-AI-RAG-Engine-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Engine Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Extensions-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Example-Store-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example Store Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generative-AI-and-data-governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security-controls-for-Generative-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security & Safety
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deprecations/Model-versions-and-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deprecations & Lifecycle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-help_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Build
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/Set-up-the-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up Environment (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/develop/Develop-an-Agent-Development-Kit-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop ADK Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangChain-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangChain Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/use/Use-a-LangGraph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use LangGraph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chat/Design-chat-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Chat Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Text-generationbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Text with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Generate-images-using-text-prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Imagen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Generate-images-with-Gemini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Images with Gemini
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../video/generate-videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Video with Veo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-batch-text-embeddings-predictions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Text Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/Get-multimodal-embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Multimodal Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/Function-calling-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Use-Google-Search-suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Google Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grounding/Grounding-with-your-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Grounding (Your Data)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/Use-data-ingestion-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Data Ingestion)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag-engine/use-vertexai-vector-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Vector Search)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-a-Weaviate-database-with-Vertex-AI-RAG-Engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build with RAG Engine (Weaviate)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Create-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Context Cache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Create-and-run-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example-store/Retrieve-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Example Store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/audio-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Audio Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Document-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Document Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimodal/Video-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimodal Video Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt-gallery/samples/summarize_summarize_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Gallery Samples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tune
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tune
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Introduction-to-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Model Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../About-supervised-fine-tuning-for-Gemini-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini Models (Supervised)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gemini-supervised-tuning-prepare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prepare Data for Gemini SFT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tune_gemini/text_tune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Gemini for Text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../image/Style-customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Imagen Models (Style/Subject)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tune-function-calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune Function Calling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/LoRA-and-QLoRA-recommendations-for-LLMs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LoRA & QLoRA Recommendations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Fine-tune-RAG-transformations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-tune RAG Transformations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Deploy-generative-AI-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Generative AI Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Agent (Agent Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Deployments-and-endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployments and Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-garden/Use-models-in-Model-Garden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Models from Model Garden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Purchase-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchase Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Use-Provisioned-Throughput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/Migrate-to-the-Gemini-API-from-Azure-OpenAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate from Azure OpenAI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/openai/Using-OpenAI-libraries-with-Vertex-AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use OpenAI Libraries with Vertex AI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Manage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/Manage-deployed-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Deployed Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/manage/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-using-direct-API-calls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (API)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/sessions/Manage-sessions-with-Agent-Development-Kit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Agent Sessions (ADK)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Get-information-about-a-context-cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Context Cache (Get/Delete)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Manage-your-RAG-knowledge-base-corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage RAG Corpus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/Model-monitoring-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Monitoring Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quotas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quotas & Limits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-deploying-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-engine/troubleshooting/Troubleshoot-developing-an-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshoot Agent Development
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Optimize
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Optimize
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Evaluation Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Gen-AI-evaluation-service-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gen AI Evaluation Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Run-AutoSxS-pipeline-to-perform-pairwise-model-based-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run AutoSxS (Pairwise Evaluation)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Evaluate-Gen-AI-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Evaluate Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/prompts/Optimize-promptsbookmark_borderbookmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Retrieval-and-ranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Retrieval and Ranking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/Vertex-AI-Model-Optimizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vertex AI Model Optimizer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../provisioned-throughput/Calculate-Provisioned-Throughput-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calculate Provisioned Throughput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model-reference/count-tokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Count Tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context-cache/Context-caching-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Caching Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompt-engineering-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt engineering techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompt engineering techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-chain-of-thought-prompting" class="md-nav__link">
    <span class="md-ellipsis">
      Use Chain-of-Thought prompting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guide-model-reasoning-with-rating-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      Guide model reasoning with rating guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calibrate-the-judge-model-with-reference-answers" class="md-nav__link">
    <span class="md-ellipsis">
      Calibrate the judge model with reference answers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/blevinscm/genai-docs/edit/main/docs/models/Prompting-for-judge-model-customization.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="prompting-for-judge-model-customization">Prompting for judge model customization<a class="headerlink" href="#prompting-for-judge-model-customization" title="Permanent link">&para;</a></h1>
<p><strong>Preview</strong></p>
<p>This product or feature is subject to the "Pre-GA Offerings Terms" in the General Service Terms section
of the <a href="https://cloud.google.com/terms/service-terms#1">Service Specific Terms</a>.
Pre-GA products and features are available "as is" and might have limited support.
For more information, see the
<a href="https://cloud.google.com/products#product-launch-stages">launch stage descriptions</a>.</p>
<p>For model-based metrics, the Gen AI evaluation service evaluates your models with a foundational model such as Gemini that has been configured as a judge model. This page describes how you can improve the quality of that judge model and customize it for your needs using prompt engineering techniques.</p>
<p>For the basic evaluation workflow, see the <a href="../evaluation-quickstart/">Gen AI evaluation service quickstart</a>. The <em>Advanced judge model customization series</em> includes the following pages:</p>
<ol>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/evaluate-judge-model">Evaluate a judge model</a></li>
<li>Prompting for judge model customization (current page)</li>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/configure-judge-model">Configure a judge model</a></li>
</ol>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Using human judges to evaluate large language models (LLMs) can be expensive and time consuming. Using a judge model is a more scalable way to evaluate LLMs.</p>
<p>The Gen AI evaluation service uses Gemini 2.0 Flash by default as the judge model, with customizable prompts to evaluate your model for various use cases. Many basic use cases are covered in <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/metrics-templates">Model-based metrics templates</a>, but you can use the following process to further customize your judge model beyond the basic use cases:</p>
<ol>
<li>Create a dataset with prompts that are representative of your use case. The recommended dataset size is between 100 and 1000 prompts.</li>
<li>Use the prompts to modify the judge model with prompt engineering techniques.</li>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/run-evaluation">Run an evaluation</a> with the judge model.</li>
</ol>
<h2 id="prompt-engineering-techniques">Prompt engineering techniques<a class="headerlink" href="#prompt-engineering-techniques" title="Permanent link">&para;</a></h2>
<p>This section lists prompt engineering techniques you can use to modify the judge model. The examples use zero-shot prompting, but you can also use few-shot examples in the prompt to improve the model quality.</p>
<p>Start with prompts that apply to the entire evaluation dataset. The prompts should include high-level evaluation criteria and rubrics for ratings and ask for a final verdict from the judge model. For examples of evaluation criteria and rubrics across various use cases, see <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/metrics-templates">Metric prompt templates</a>.</p>
<h3 id="use-chain-of-thought-prompting">Use Chain-of-Thought prompting<a class="headerlink" href="#use-chain-of-thought-prompting" title="Permanent link">&para;</a></h3>
<p>Prompt the judge model to evaluate a candidate model with a sequence of logically coherent actions or steps.</p>
<p>For example, you can use the following step-by-step instructions:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="s2">&quot;Please first list down the instructions in the user query.&quot;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="s2">&quot;Please highlight such specific keywords.&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="s2">&quot;After listing down instructions, you should rank the instructions in the order of importance.&quot;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="s2">&quot;After that, INDEPENDENTLY check if response A and response B for meeting each of the instructions.&quot;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="s2">&quot;Writing quality/style should NOT be used to judge the response quality unless it was requested by the user.&quot;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="s2">&quot;When evaluating the final response quality, please value Instruction Following a more important rubrics than Truthfulness.&quot;</span>
</span></code></pre></div>
<p>The following prompt example asks the judge model to evaluate text tasks using <a href="https://developers.google.com/machine-learning/glossary#chain-of-thought-prompting">Chain-of-Thought prompting</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Rubrics</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">Your</span> <span class="n">mission</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">responses</span> <span class="kn">from</span><span class="w"> </span><span class="nn">two</span> <span class="n">AI</span> <span class="n">models</span><span class="p">,</span> <span class="n">Model</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">Model</span> <span class="n">B</span><span class="p">,</span> <span class="ow">and</span> <span class="n">decide</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">better</span><span class="o">.</span> <span class="n">You</span> <span class="n">will</span> <span class="n">be</span> <span class="n">given</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">conversations</span> <span class="n">between</span> <span class="n">the</span> <span class="n">user</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">model</span><span class="p">,</span> <span class="n">a</span> <span class="n">prompt</span><span class="p">,</span> <span class="ow">and</span> <span class="n">responses</span> <span class="kn">from</span><span class="w"> </span><span class="nn">both</span> <span class="n">models</span><span class="o">.</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">Please</span> <span class="n">use</span> <span class="n">the</span> <span class="n">following</span> <span class="n">rubric</span> <span class="n">criteria</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">the</span> <span class="n">responses</span><span class="p">:</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="o">&lt;</span><span class="n">START</span> <span class="n">OF</span> <span class="n">RUBRICS</span><span class="o">&gt;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">Your</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">first</span> <span class="n">analyze</span> <span class="n">each</span> <span class="n">response</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">two</span> <span class="n">rubric</span> <span class="n">criteria</span><span class="p">:</span> <span class="n">instruction_following</span><span class="p">,</span> <span class="ow">and</span> <span class="n">truthfulness</span> <span class="p">(</span><span class="n">factual</span> <span class="n">correctness</span><span class="p">)</span><span class="o">.</span> <span class="n">Start</span> <span class="n">your</span> <span class="n">analysis</span> <span class="k">with</span> <span class="s2">&quot;Analysis&quot;</span><span class="o">.</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">Instruction</span> <span class="n">Listing</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="n">Please</span> <span class="n">first</span> <span class="nb">list</span> <span class="n">down</span> <span class="n">the</span> <span class="n">instructions</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">user</span> <span class="n">query</span><span class="o">.</span> <span class="n">In</span> <span class="n">general</span><span class="p">,</span> <span class="n">an</span> <span class="n">instruction</span> <span class="ow">is</span> <span class="n">VERY</span> <span class="n">important</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">specific</span> <span class="n">asked</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">prompt</span> <span class="ow">and</span> <span class="n">deviate</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">norm</span><span class="o">.</span> <span class="n">Please</span> <span class="n">highlight</span> <span class="n">such</span> <span class="n">specific</span> <span class="n">keywords</span><span class="o">.</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">You</span> <span class="n">should</span> <span class="n">also</span> <span class="n">derive</span> <span class="n">the</span> <span class="n">task</span> <span class="nb">type</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">prompt</span> <span class="ow">and</span> <span class="n">include</span> <span class="n">the</span> <span class="n">task</span> <span class="n">specific</span> <span class="n">implied</span> <span class="n">instructions</span><span class="o">.</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">Sometimes</span><span class="p">,</span> <span class="n">no</span> <span class="n">instruction</span> <span class="ow">is</span> <span class="n">available</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">prompt</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">your</span> <span class="n">job</span> <span class="n">to</span> <span class="n">infer</span> <span class="k">if</span> <span class="n">the</span> <span class="n">instruction</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">auto</span><span class="o">-</span><span class="n">complete</span> <span class="n">the</span> <span class="n">prompt</span> <span class="ow">or</span> <span class="n">asking</span> <span class="n">LLM</span> <span class="k">for</span> <span class="n">followups</span><span class="o">.</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="n">After</span> <span class="n">listing</span> <span class="n">down</span> <span class="n">instructions</span><span class="p">,</span> <span class="n">you</span> <span class="n">should</span> <span class="n">rank</span> <span class="n">the</span> <span class="n">instructions</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">order</span> <span class="n">of</span> <span class="n">importance</span><span class="o">.</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="n">After</span> <span class="n">that</span><span class="p">,</span> <span class="n">INDEPENDENTLY</span> <span class="n">check</span> <span class="k">if</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">B</span> <span class="k">for</span> <span class="n">meeting</span> <span class="n">each</span> <span class="n">of</span> <span class="n">the</span> <span class="n">instructions</span><span class="o">.</span> <span class="n">You</span> <span class="n">should</span> <span class="n">itemize</span> <span class="k">for</span> <span class="n">each</span> <span class="n">instruction</span><span class="p">,</span> <span class="k">if</span> <span class="n">response</span> <span class="n">meet</span><span class="p">,</span> <span class="n">partially</span> <span class="n">meet</span> <span class="ow">or</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">meet</span> <span class="n">the</span> <span class="n">requirement</span> <span class="n">using</span> <span class="n">reasoning</span><span class="o">.</span> <span class="n">You</span> <span class="n">should</span> <span class="n">start</span> <span class="n">reasoning</span> <span class="n">first</span> <span class="n">before</span> <span class="n">reaching</span> <span class="n">a</span> <span class="n">conclusion</span> <span class="n">whether</span> <span class="n">response</span> <span class="n">satisfies</span> <span class="n">the</span> <span class="n">requirement</span><span class="o">.</span> <span class="n">Citing</span> <span class="n">examples</span> <span class="k">while</span> <span class="n">making</span> <span class="n">reasoning</span> <span class="ow">is</span> <span class="n">preferred</span><span class="o">.</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="n">Truthfulness</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="n">Compare</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">B</span> <span class="k">for</span> <span class="n">factual</span> <span class="n">correctness</span><span class="o">.</span> <span class="n">The</span> <span class="n">one</span> <span class="k">with</span> <span class="n">less</span> <span class="n">hallucinated</span> <span class="n">issues</span> <span class="ow">is</span> <span class="n">better</span><span class="o">.</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="n">If</span> <span class="n">response</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">sentences</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">too</span> <span class="n">long</span><span class="p">,</span> <span class="n">you</span> <span class="n">should</span> <span class="n">check</span> <span class="n">every</span> <span class="n">sentence</span> <span class="n">separately</span><span class="o">.</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="n">For</span> <span class="n">longer</span> <span class="n">responses</span><span class="p">,</span> <span class="n">to</span> <span class="n">check</span> <span class="n">factual</span> <span class="n">correctness</span><span class="p">,</span> <span class="n">focus</span> <span class="n">specifically</span> <span class="n">on</span> <span class="n">places</span> <span class="n">where</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">B</span> <span class="n">differ</span><span class="o">.</span> <span class="n">Find</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">information</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">text</span> <span class="n">to</span> <span class="n">decide</span> <span class="k">if</span> <span class="n">one</span> <span class="ow">is</span> <span class="n">more</span> <span class="n">truthful</span> <span class="n">to</span> <span class="n">the</span> <span class="n">other</span> <span class="ow">or</span> <span class="n">they</span> <span class="n">are</span> <span class="n">about</span> <span class="n">the</span> <span class="n">same</span><span class="o">.</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="n">If</span> <span class="n">you</span> <span class="n">cannot</span> <span class="n">determine</span> <span class="n">validity</span> <span class="n">of</span> <span class="n">claims</span> <span class="n">made</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">response</span><span class="p">,</span> <span class="ow">or</span> <span class="n">response</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">punt</span> <span class="p">(</span><span class="s2">&quot;I am not able to answer that type of question&quot;</span><span class="p">),</span> <span class="n">the</span> <span class="n">response</span> <span class="n">has</span> <span class="n">no</span> <span class="n">truthful</span> <span class="n">issues</span><span class="o">.</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="n">Truthfulness</span> <span class="n">check</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">applicable</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">majority</span> <span class="n">of</span> <span class="n">creative</span> <span class="n">writing</span> <span class="n">cases</span> <span class="p">(</span><span class="s2">&quot;write me a story about a unicorn on a parade&quot;</span><span class="p">)</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="n">Writing</span> <span class="n">quality</span><span class="o">/</span><span class="n">style</span> <span class="n">should</span> <span class="n">NOT</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">the</span> <span class="n">response</span> <span class="n">quality</span> <span class="n">unless</span> <span class="n">it</span> <span class="n">was</span> <span class="n">requested</span> <span class="n">by</span> <span class="n">the</span> <span class="n">user</span><span class="o">.</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="n">In</span> <span class="n">the</span> <span class="n">end</span><span class="p">,</span> <span class="n">express</span> <span class="n">your</span> <span class="n">final</span> <span class="n">verdict</span> <span class="ow">in</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">choices</span><span class="p">:</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="mf">1.</span> <span class="n">Response</span> <span class="n">A</span> <span class="ow">is</span> <span class="n">better</span><span class="p">:</span> <span class="p">[[</span><span class="n">A</span><span class="o">&gt;</span><span class="n">B</span><span class="p">]]</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="mf">2.</span> <span class="n">Tie</span><span class="p">,</span> <span class="n">relatively</span> <span class="n">the</span> <span class="n">same</span><span class="p">:</span> <span class="p">[[</span><span class="n">A</span><span class="o">=</span><span class="n">B</span><span class="p">]]</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="mf">3.</span> <span class="n">Response</span> <span class="n">B</span> <span class="ow">is</span> <span class="n">better</span><span class="p">:</span> <span class="p">[[</span><span class="n">B</span><span class="o">&gt;</span><span class="n">A</span><span class="p">]]</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="n">Example</span> <span class="n">of</span> <span class="n">final</span> <span class="n">verdict</span><span class="p">:</span> <span class="s2">&quot;My final verdict is tie, relatively the same: [[A=B]]&quot;</span><span class="o">.</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="n">When</span> <span class="n">evaluating</span> <span class="n">the</span> <span class="n">final</span> <span class="n">response</span> <span class="n">quality</span><span class="p">,</span> <span class="n">please</span> <span class="n">value</span> <span class="n">Instruction</span> <span class="n">Following</span> <span class="n">a</span> <span class="n">more</span> <span class="n">important</span> <span class="n">rubrics</span> <span class="n">than</span> <span class="n">Truthfulness</span><span class="o">.</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="n">When</span> <span class="k">for</span> <span class="n">both</span> <span class="n">response</span><span class="p">,</span> <span class="n">instruction</span> <span class="ow">and</span> <span class="n">truthfulness</span> <span class="n">are</span> <span class="n">fully</span> <span class="n">meet</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">tie</span><span class="o">.</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="o">&lt;</span><span class="n">END</span> <span class="n">OF</span> <span class="n">RUBRICS</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="guide-model-reasoning-with-rating-guidelines">Guide model reasoning with rating guidelines<a class="headerlink" href="#guide-model-reasoning-with-rating-guidelines" title="Permanent link">&para;</a></h3>
<p>Use rating guidelines to help the judge model evaluate model reasoning. Rating guidelines are different from rating criteria.</p>
<p>For example, the following prompt uses rating criteria, which instructs a judge model to rate the "instruction following" task with the rating rubrics "major issues", "minor issues", and "no issues:"</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">Your</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">first</span> <span class="n">analyze</span> <span class="n">each</span> <span class="n">response</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">three</span> <span class="n">rubric</span> <span class="n">criteria</span><span class="p">:</span> <span class="n">verbosity</span><span class="p">,</span> <span class="n">instruction_following</span><span class="p">,</span> <span class="n">truthfulness</span> <span class="p">(</span><span class="n">code</span> <span class="n">correctness</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">coding</span><span class="p">)</span> <span class="n">executability</span><span class="o">.</span> <span class="n">Please</span> <span class="n">note</span> <span class="n">that</span> <span class="n">the</span> <span class="n">model</span> <span class="n">responses</span> <span class="n">should</span> <span class="n">follow</span> <span class="s2">&quot;response system instruction&quot;</span> <span class="p">(</span><span class="k">if</span> <span class="n">provided</span><span class="p">)</span><span class="o">.</span> <span class="n">Format</span> <span class="n">your</span> <span class="n">judgment</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">following</span> <span class="n">way</span><span class="p">:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">Response</span> <span class="n">A</span> <span class="o">-</span> <span class="n">verbosity</span><span class="p">:</span><span class="n">too</span> <span class="n">short</span><span class="o">|</span><span class="n">too</span> <span class="n">verbose</span><span class="o">|</span><span class="n">just</span> <span class="n">right</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">Response</span> <span class="n">A</span> <span class="o">-</span> <span class="n">instruction_following</span><span class="p">:</span><span class="n">major</span> <span class="n">issues</span><span class="o">|</span><span class="n">minor</span> <span class="n">issues</span><span class="o">|</span><span class="n">no</span> <span class="n">issues</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">Response</span> <span class="n">A</span> <span class="o">-</span> <span class="n">truthfulness</span><span class="p">:</span><span class="n">major</span> <span class="n">issues</span><span class="o">|</span><span class="n">minor</span> <span class="n">issues</span><span class="o">|</span><span class="n">no</span> <span class="n">issues</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="n">Response</span> <span class="n">A</span> <span class="o">-</span> <span class="n">executability</span><span class="p">:</span><span class="n">no</span><span class="o">|</span><span class="n">no</span> <span class="n">code</span> <span class="n">present</span><span class="o">|</span><span class="n">yes</span><span class="o">-</span><span class="n">fully</span><span class="o">|</span><span class="n">yes</span><span class="o">-</span><span class="n">partially</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">Then</span> <span class="n">do</span> <span class="n">the</span> <span class="n">same</span> <span class="k">for</span> <span class="n">response</span> <span class="n">B</span><span class="o">.</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">After</span> <span class="n">the</span> <span class="n">rubric</span> <span class="n">judgements</span><span class="p">,</span> <span class="n">you</span> <span class="n">should</span> <span class="n">also</span> <span class="n">give</span> <span class="n">a</span> <span class="n">brief</span> <span class="n">rationale</span> <span class="n">to</span> <span class="n">summarize</span> <span class="n">your</span> <span class="n">evaluation</span> <span class="n">considering</span> <span class="n">each</span> <span class="n">individual</span> <span class="n">criteria</span> <span class="k">as</span> <span class="n">well</span> <span class="k">as</span> <span class="n">the</span> <span class="n">overall</span> <span class="n">quality</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">new</span> <span class="n">paragraph</span> <span class="n">starting</span> <span class="k">with</span> <span class="s2">&quot;Reason: &quot;</span><span class="o">.</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">In</span> <span class="n">the</span> <span class="n">last</span> <span class="n">line</span><span class="p">,</span> <span class="n">express</span> <span class="n">your</span> <span class="n">final</span> <span class="n">judgment</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">format</span> <span class="n">of</span><span class="p">:</span> <span class="s2">&quot;Which response is better: [[verdict]]&quot;</span> <span class="n">where</span> <span class="s2">&quot;verdict&quot;</span> <span class="ow">is</span> <span class="n">one</span> <span class="n">of</span> <span class="p">{</span><span class="n">Response</span> <span class="n">A</span> <span class="ow">is</span> <span class="n">much</span> <span class="n">better</span><span class="p">,</span> <span class="n">Response</span> <span class="n">A</span> <span class="ow">is</span> <span class="n">better</span><span class="p">,</span> <span class="n">Response</span> <span class="n">A</span> <span class="ow">is</span> <span class="n">slightly</span> <span class="n">better</span><span class="p">,</span> <span class="n">About</span> <span class="n">the</span> <span class="n">same</span><span class="p">,</span> <span class="n">Response</span> <span class="n">B</span> <span class="ow">is</span> <span class="n">slightly</span> <span class="n">better</span><span class="p">,</span> <span class="n">Response</span> <span class="n">B</span> <span class="ow">is</span> <span class="n">better</span><span class="p">,</span> <span class="n">Response</span> <span class="n">B</span> <span class="ow">is</span> <span class="n">much</span> <span class="n">better</span><span class="p">}</span><span class="o">.</span> <span class="n">Do</span> <span class="ow">not</span> <span class="n">use</span> <span class="n">markdown</span> <span class="nb">format</span> <span class="ow">or</span> <span class="n">output</span> <span class="n">anything</span> <span class="k">else</span><span class="o">.</span>
</span></code></pre></div>
<p>The following prompt uses rating guidelines to help the judge model rate the "instruction following" task:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">You</span> <span class="n">are</span> <span class="n">a</span> <span class="n">judge</span> <span class="k">for</span> <span class="n">coding</span> <span class="n">related</span> <span class="n">tasks</span> <span class="k">for</span> <span class="n">LLMs</span><span class="o">.</span> <span class="n">You</span> <span class="n">will</span> <span class="n">be</span> <span class="n">provided</span> <span class="k">with</span> <span class="n">a</span> <span class="n">coding</span> <span class="n">prompt</span><span class="p">,</span> <span class="ow">and</span> <span class="n">two</span> <span class="n">responses</span> <span class="p">(</span><span class="n">Response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">Response</span> <span class="n">B</span><span class="p">)</span> <span class="n">attempting</span> <span class="n">to</span> <span class="n">answer</span> <span class="n">the</span> <span class="n">prompt</span><span class="o">.</span> <span class="n">Your</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">evaluate</span> <span class="n">each</span> <span class="n">response</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">following</span> <span class="n">criteria</span><span class="p">:</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">Correctness</span><span class="p">:</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">code</span> <span class="n">produce</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">output</span> <span class="ow">and</span> <span class="n">solve</span> <span class="n">the</span> <span class="n">problem</span> <span class="k">as</span> <span class="n">stated</span><span class="err">?</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Executability</span><span class="p">:</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">code</span> <span class="n">run</span> <span class="n">without</span> <span class="n">errors</span><span class="err">?</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">Instruction</span> <span class="n">Following</span><span class="p">:</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">code</span> <span class="n">adhere</span> <span class="n">to</span> <span class="n">the</span> <span class="n">given</span> <span class="n">instructions</span> <span class="ow">and</span> <span class="n">constraints</span><span class="err">?</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">Please</span> <span class="n">think</span> <span class="n">about</span> <span class="n">the</span> <span class="n">three</span> <span class="n">criteria</span><span class="p">,</span> <span class="ow">and</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">side</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">side</span> <span class="n">comparison</span> <span class="n">rating</span> <span class="n">to</span> <span class="n">to</span> <span class="n">indicate</span> <span class="n">which</span> <span class="n">one</span> <span class="ow">is</span> <span class="n">better</span><span class="o">.</span>
</span></code></pre></div>
<h3 id="calibrate-the-judge-model-with-reference-answers">Calibrate the judge model with reference answers<a class="headerlink" href="#calibrate-the-judge-model-with-reference-answers" title="Permanent link">&para;</a></h3>
<p>You can calibrate the judge model with reference answers for some or all prompts.</p>
<p>The following prompt guides the judge model on how to use the reference answers:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="s2">&quot;Note that you can compare the responses with the reference answer to make your judgment, but the reference answer may not be the only correct answer to the query.&quot;</span>
</span></code></pre></div>
<p>The following example also uses reasoning, Chain-of-Thought prompting, and rating guidelines to guide the evaluation process for the "Instruction Following" task:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Rubrics</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">Your</span> <span class="n">mission</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">responses</span> <span class="kn">from</span><span class="w"> </span><span class="nn">two</span> <span class="n">AI</span> <span class="n">models</span><span class="p">,</span> <span class="n">Model</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">Model</span> <span class="n">B</span><span class="p">,</span> <span class="ow">and</span> <span class="n">decide</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">better</span><span class="o">.</span> <span class="n">You</span> <span class="n">will</span> <span class="n">be</span> <span class="n">given</span> <span class="n">a</span> <span class="n">user</span> <span class="n">query</span><span class="p">,</span> <span class="n">source</span> <span class="n">summaries</span><span class="p">,</span> <span class="ow">and</span> <span class="n">responses</span> <span class="kn">from</span><span class="w"> </span><span class="nn">both</span> <span class="n">models</span><span class="o">.</span> <span class="n">A</span> <span class="n">reference</span> <span class="n">answer</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">may</span> <span class="n">also</span> <span class="n">be</span> <span class="n">provided</span> <span class="o">-</span> <span class="n">note</span> <span class="n">that</span> <span class="n">you</span> <span class="n">can</span> <span class="n">compare</span> <span class="n">the</span> <span class="n">responses</span> <span class="k">with</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">answer</span> <span class="n">to</span> <span class="n">make</span> <span class="n">your</span> <span class="n">judgment</span><span class="p">,</span> <span class="n">but</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">answer</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">the</span> <span class="n">only</span> <span class="n">correct</span> <span class="n">answer</span> <span class="n">to</span> <span class="n">the</span> <span class="n">query</span><span class="o">.</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">Please</span> <span class="n">use</span> <span class="n">the</span> <span class="n">following</span> <span class="n">rubric</span> <span class="n">criteria</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">the</span> <span class="n">responses</span><span class="p">:</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="o">&lt;</span><span class="n">START</span> <span class="n">OF</span> <span class="n">RUBRICS</span><span class="o">&gt;</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="n">Your</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">to</span> <span class="n">first</span> <span class="n">analyze</span> <span class="n">each</span> <span class="n">response</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">three</span> <span class="n">rubric</span> <span class="n">criteria</span><span class="p">:</span> <span class="n">grounding</span><span class="p">,</span> <span class="n">completeness</span><span class="p">,</span> <span class="ow">and</span> <span class="n">instruction_following</span><span class="o">.</span> <span class="n">Start</span> <span class="n">your</span> <span class="n">analysis</span> <span class="k">with</span> <span class="s2">&quot;Analysis&quot;</span><span class="o">.</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">Grounding</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">Please</span> <span class="n">first</span> <span class="n">read</span> <span class="n">through</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">given</span> <span class="n">sources</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">source</span> <span class="n">summaries</span> <span class="n">carefully</span> <span class="ow">and</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">understand</span> <span class="n">the</span> <span class="n">key</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">each</span> <span class="n">one</span><span class="o">.</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">After</span> <span class="n">that</span><span class="p">,</span> <span class="n">INDEPENDENTLY</span> <span class="n">check</span> <span class="k">if</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">B</span> <span class="n">use</span> <span class="n">ONLY</span> <span class="n">the</span> <span class="n">given</span> <span class="n">sources</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">source</span> <span class="n">summaries</span> <span class="n">to</span> <span class="n">answer</span> <span class="n">the</span> <span class="n">user</span> <span class="n">query</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">VERY</span> <span class="n">important</span> <span class="n">to</span> <span class="n">check</span> <span class="n">that</span> <span class="nb">all</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="n">statements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">response</span> <span class="n">MUST</span> <span class="n">be</span> <span class="n">traceable</span> <span class="n">back</span> <span class="n">to</span> <span class="n">the</span> <span class="n">source</span> <span class="n">summaries</span> <span class="ow">and</span> <span class="n">ACCURATELY</span> <span class="n">cited</span><span class="o">.</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="n">Completeness</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="n">Please</span> <span class="n">first</span> <span class="nb">list</span> <span class="n">down</span> <span class="n">the</span> <span class="n">aspects</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">user</span> <span class="n">query</span><span class="o">.</span> <span class="n">After</span> <span class="n">that</span><span class="p">,</span> <span class="n">INDEPENDENTLY</span> <span class="n">check</span> <span class="k">if</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">B</span> <span class="k">for</span> <span class="n">covering</span> <span class="n">each</span> <span class="n">of</span> <span class="n">the</span> <span class="n">aspects</span> <span class="n">by</span> <span class="n">using</span> <span class="n">ALL</span> <span class="n">RELEVANT</span> <span class="n">information</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">sources</span><span class="o">.</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">Instruction</span> <span class="n">Following</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="n">Please</span> <span class="n">read</span> <span class="n">through</span> <span class="n">the</span> <span class="n">following</span> <span class="n">instruction</span> <span class="n">following</span> <span class="n">rubrics</span> <span class="n">carefully</span><span class="o">.</span> <span class="n">After</span> <span class="n">that</span><span class="p">,</span> <span class="n">INDEPENDENTLY</span> <span class="n">check</span> <span class="k">if</span> <span class="n">response</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">response</span> <span class="n">B</span> <span class="k">for</span> <span class="n">following</span> <span class="n">each</span> <span class="n">of</span> <span class="n">the</span> <span class="n">instruction</span> <span class="n">following</span> <span class="n">rubrics</span> <span class="n">successfully</span><span class="o">.</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">final</span> <span class="n">answer</span> <span class="n">based</span> <span class="n">on</span> <span class="n">summaries</span> <span class="n">of</span> <span class="mi">3</span> <span class="n">potential</span> <span class="n">answers</span> <span class="n">to</span> <span class="n">a</span> <span class="n">user</span> <span class="n">query</span><span class="err">?</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">only</span> <span class="n">use</span> <span class="n">the</span> <span class="n">technical</span> <span class="n">sources</span> <span class="n">provided</span> <span class="n">that</span> <span class="n">are</span> <span class="n">relevant</span> <span class="n">to</span> <span class="n">the</span> <span class="n">query</span><span class="err">?</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">use</span> <span class="n">only</span> <span class="n">information</span> <span class="kn">from</span><span class="w"> </span><span class="nn">sources</span> <span class="n">provided</span><span class="err">?</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">select</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">sources</span> <span class="n">that</span> <span class="n">provide</span> <span class="n">helpful</span> <span class="n">details</span> <span class="n">to</span> <span class="n">answer</span> <span class="n">the</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Technical</span> <span class="n">Document</span><span class="err">?</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a> <span class="o">*</span> <span class="n">If</span> <span class="n">the</span> <span class="n">sources</span> <span class="n">have</span> <span class="n">significant</span> <span class="n">overlapping</span> <span class="ow">or</span> <span class="n">duplicate</span> <span class="n">details</span><span class="p">,</span> <span class="n">does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">select</span> <span class="n">sources</span> <span class="n">which</span> <span class="n">are</span> <span class="n">most</span> <span class="n">detailed</span> <span class="ow">and</span> <span class="n">comprehensive</span><span class="err">?</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a> <span class="o">*</span> <span class="n">For</span> <span class="n">each</span> <span class="n">selected</span> <span class="n">source</span><span class="p">,</span> <span class="n">does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">prepend</span> <span class="n">source</span> <span class="n">citations</span><span class="err">?</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">use</span> <span class="n">the</span> <span class="nb">format</span><span class="p">:</span> <span class="s2">&quot;Source X&quot;</span> <span class="n">where</span> <span class="n">x</span> <span class="n">represents</span> <span class="n">the</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">which</span> <span class="n">the</span> <span class="n">technical</span> <span class="n">source</span> <span class="n">appeared</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">input</span><span class="err">?</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">use</span> <span class="n">original</span> <span class="n">source</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">directly</span> <span class="ow">in</span> <span class="n">its</span> <span class="n">response</span><span class="p">,</span> <span class="n">presenting</span> <span class="n">each</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">its</span> <span class="n">entirety</span><span class="p">,</span> <span class="n">word</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">word</span><span class="p">,</span> <span class="n">without</span> <span class="n">omitting</span> <span class="ow">and</span> <span class="n">altering</span> <span class="nb">any</span> <span class="n">details</span><span class="err">?</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a> <span class="o">*</span> <span class="n">Does</span> <span class="n">the</span> <span class="n">response</span> <span class="n">create</span> <span class="n">a</span> <span class="n">coherent</span> <span class="n">technical</span> <span class="n">final</span> <span class="n">answer</span> <span class="kn">from</span><span class="w"> </span><span class="nn">selected</span> <span class="n">Sources</span> <span class="n">without</span> <span class="n">inter</span><span class="o">-</span><span class="n">mixing</span> <span class="n">text</span> <span class="kn">from</span><span class="w"> </span><span class="nn">any</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Sources</span><span class="err">?</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="n">Writing</span> <span class="n">quality</span><span class="o">/</span><span class="n">style</span> <span class="n">can</span> <span class="n">be</span> <span class="n">considered</span><span class="p">,</span> <span class="n">but</span> <span class="n">should</span> <span class="n">NOT</span> <span class="n">be</span> <span class="n">used</span> <span class="k">as</span> <span class="n">critical</span> <span class="n">rubric</span> <span class="n">criteria</span> <span class="n">to</span> <span class="n">judge</span> <span class="n">the</span> <span class="n">response</span> <span class="n">quality</span><span class="o">.</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="n">In</span> <span class="n">the</span> <span class="n">end</span><span class="p">,</span> <span class="n">express</span> <span class="n">your</span> <span class="n">final</span> <span class="n">verdict</span> <span class="ow">in</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">choices</span><span class="p">:</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="mf">1.</span> <span class="n">Response</span> <span class="n">A</span> <span class="ow">is</span> <span class="n">better</span><span class="p">:</span> <span class="p">[[</span><span class="n">A</span><span class="o">&gt;</span><span class="n">B</span><span class="p">]]</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="mf">2.</span> <span class="n">Tie</span><span class="p">,</span> <span class="n">relatively</span> <span class="n">the</span> <span class="n">same</span><span class="p">:</span> <span class="p">[[</span><span class="n">A</span><span class="o">=</span><span class="n">B</span><span class="p">]]</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="mf">3.</span> <span class="n">Response</span> <span class="n">B</span> <span class="ow">is</span> <span class="n">better</span><span class="p">:</span> <span class="p">[[</span><span class="n">B</span><span class="o">&gt;</span><span class="n">A</span><span class="p">]]</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="n">Example</span> <span class="n">of</span> <span class="n">final</span> <span class="n">verdict</span><span class="p">:</span> <span class="s2">&quot;My final verdict is tie, relatively the same: [[A=B]]&quot;</span><span class="o">.</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a><span class="n">When</span> <span class="k">for</span> <span class="n">both</span> <span class="n">response</span><span class="p">,</span> <span class="n">grounding</span><span class="p">,</span> <span class="n">completeness</span><span class="p">,</span> <span class="ow">and</span> <span class="n">instruction</span> <span class="n">following</span> <span class="n">are</span> <span class="n">fully</span> <span class="n">meet</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">tie</span><span class="o">.</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a><span class="o">&lt;</span><span class="n">END</span> <span class="n">OF</span> <span class="n">RUBRICS</span><span class="o">&gt;</span>
</span></code></pre></div>
<h2 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/run-evaluation">Run your evaluation</a> with the modified judge model.</li>
<li><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/models/configure-judge-model">Configure your judge model</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow", "navigation.tabs", "navigation.sections", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../js/chat-widget/gemini-client.js"></script>
      
        <script src="../../js/chat-widget/init.js"></script>
      
        <script src="../../js/chat-widget/setup-key.js"></script>
      
        <script src="../../js/chat-widget-helper.js"></script>
      
    
  </body>
</html>